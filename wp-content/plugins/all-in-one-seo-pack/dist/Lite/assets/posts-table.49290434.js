import{_ as f}from"./js/_plugin-vue_export-helper.a6f24833.js";import{r as w,o as c,c as d,a as o,d as u,f as m,g as a,z as h,M as v,O as T,e as V,n as I,b as k,E as y,q as C}from"./js/vue.runtime.esm-bundler.588d3a9f.js";import{l as B}from"./js/index.cee32157.js";import{l as L}from"./js/index.c39be324.js";import{l as M}from"./js/index.0b123ab1.js";import{m as b,s as P,t as D,l as O}from"./js/links.37929787.js";import{h as j,t as z,T as R}from"./js/postContent.a843d374.js";import{e as A}from"./js/elemLoaded.9a6eb745.js";import{a as F}from"./js/allowed.d718ae23.js";import"./js/default-i18n.3881921e.js";import{u as S,T as N}from"./js/TruSeoScore.29220195.js";import{b as x,c as q}from"./js/Caret.4d98c50a.js";/* empty css                                               */import"./js/constants.44daa6bb.js";/* empty css                                                 */import"./js/TruSeoHighlighter.ed998abe.js";/* empty css                                                 */import{C as G}from"./js/ScoreButton.45bcbfbe.js";import"./js/translations.6e7b2383.js";import"./js/isArrayLikeObject.10b615a9.js";import"./js/cleanForSlug.a67f7e84.js";import"./js/_stringToArray.a4422725.js";import"./js/Ellipse.60ee808e.js";import"./js/toFinite.c2274946.js";const H={setup(){const{strings:e}=S();return{composableStrings:e}},components:{CoreScoreButton:G,SvgCircleCheck:x,SvgCircleClose:q},mixins:[N],props:{post:Object,posts:Array,index:Number},data(){return{allowed:F,postId:null,columnName:null,value:null,title:null,titleParsed:null,postDescription:null,descriptionParsed:null,imageTitle:null,imageAltTag:null,showEditTitle:!1,showEditDescription:!1,showEditImageTitle:!1,showEditImageAltTag:!1,showTruSeo:!1,isSpecialPage:!1,strings:b(this.composableStrings,{title:this.$t.__("Title:",this.$td),description:this.$t.__("Description:",this.$td),imageTitle:this.$t.__("Image Title:",this.$td),imageAltTag:this.$t.__("Image Alt Tag:",this.$td),edit:this.$t.__("Edit",this.$td),save:this.$t.__("Save",this.$td),cancel:this.$t.__("Cancel",this.$td),wait:this.$t.__("Please wait...",this.$td)})}},methods:{save(){this.showEditTitle=!1,this.showEditDescription=!1,this.post.title=this.title,this.post.description=this.postDescription,P.post(this.$links.restUrl("postscreen")).send({postId:this.post.id,title:this.post.title,description:this.post.description}).then(e=>{this.titleParsed=e.body.title,this.descriptionParsed=e.body.description,this.post.titleParsed=e.body.title,this.post.descriptionParsed=e.body.description,this.$root._data.screen.base!=="upload"&&this.runAnalysis(this.post.id)}).catch(e=>{console.error(`Unable to update post with ID ${this.post.id}: ${e}`)})},saveImage(){this.showEditImageTitle=!1,this.showEditImageAltTag=!1,this.post.title=this.title,this.post.description=this.postDescription,this.post.imageTitle=this.imageTitle,this.post.imageAltTag=this.imageAltTag,P.post(this.$links.restUrl("postscreen")).send({postId:this.post.id,isMedia:!0,title:this.post.title,description:this.post.description,imageTitle:this.post.imageTitle,imageAltTag:this.post.imageAltTag}).then(()=>{}).catch(e=>{console.error(`Unable to update attachment with ID ${this.post.id}: ${e}`)})},cancel(){this.value=this.post.value,this.showEditTitle=!1,this.showEditDescription=!1,this.showEditImageTitle=!1,this.showEditImageAltTag=!1},editTitle(){this.showEditTitle=!0},editDescription(){this.showEditDescription=!0},editImageTitle(){this.showEditImageTitle=!0},editImageAlt(){this.showEditImageAltTag=!0},truncate:D,updatePostTitle(e,i){const l=document.getElementById(`post-${e}`);if(!l)return;const g=l.getElementsByClassName("title")[0].getElementsByTagName("a")[0];if(!g)return;const t=g.getElementsByTagName("span")[0];g.innerText=i,g.prepend(t)}},mounted(){this.postId=this.post.id,this.columnName=this.post.columnName,this.value=this.post.value,this.imageTitle=this.post.imageTitle,this.imageAltTag=this.post.imageAltTag,this.isSpecialPage=this.post.isSpecialPage,this.title=this.post.title||this.post.defaultTitle,this.titleParsed=this.post.titleParsed,this.postDescription=this.post.description||this.post.defaultDescription,this.descriptionParsed=this.post.descriptionParsed},async created(){this.showTruSeo=j()}},J={key:0,class:"edit-row"},K={key:1,class:"edit-row edit-title"},Q=["title"],W=["id"],X={key:2,class:"edit-row"},Y=["title"],Z=["title"],$={key:3,class:"edit-row edit-description"},tt=["title"],et=["id"],it={key:4,class:"edit-row"},st=["title"],ot=["title"],nt={key:5,class:"edit-row edit-image-title"},lt=["title"],rt=["id"],at={key:6,class:"edit-row"},ct=["title"],dt=["title"],ut={key:7,class:"edit-row edit-image-alt"},mt=["title"],ht=["id"],pt={key:8,class:"edit-row"},gt=["title"],_t=["title"];function wt(e,i,l,g,t,s){const _=w("core-score-button"),p=w("svg-circle-check"),r=w("svg-circle-close");return c(),d("div",{class:I(["aioseo-details-column",{editing:t.showEditTitle||t.showEditDescription||t.showEditImageTitle||t.showEditImageAltTag}])},[o("div",null,[e.$root._data.screen.base==="edit"&&t.showTruSeo&&t.allowed("aioseo_page_analysis")&&!t.isSpecialPage?(c(),d("div",J,[u(_,{score:l.post.value,postId:t.postId},null,8,["score","postId"])])):m("",!0),t.allowed("aioseo_page_general_settings")?(c(),d("div",K,[o("a",{class:"dashicons dashicons-edit aioseo-quickedit",title:t.strings.edit,onClick:i[0]||(i[0]=a((...n)=>s.editTitle&&s.editTitle(...n),["prevent"]))},null,8,Q),o("strong",null,h(t.strings.title)+" ",1),o("span",{id:`aioseo-${t.columnName}-${t.postId}-value`},h(s.truncate(t.titleParsed,100)),9,W)])):m("",!0),t.showEditTitle?(c(),d("div",X,[v(o("textarea",{"onUpdate:modelValue":i[1]||(i[1]=n=>t.title=n),class:"aioseo-quickedit-input",rows:"4",columns:"32"},null,512),[[T,t.title]]),o("a",{class:"dashicons aioseo-quickedit-input-save",onClick:i[2]||(i[2]=a((...n)=>s.save&&s.save(...n),["prevent"])),title:t.strings.save},[u(p,{width:"20"})],8,Y),o("a",{class:"dashicons aioseo-quickedit-input-cancel",onClick:i[3]||(i[3]=a((...n)=>s.cancel&&s.cancel(...n),["prevent"])),title:t.strings.cancel},[u(r,{width:"20"})],8,Z)])):m("",!0),t.allowed("aioseo_page_general_settings")?(c(),d("div",$,[o("a",{class:"dashicons dashicons-edit aioseo-quickedit",title:t.strings.edit,onClick:i[4]||(i[4]=a((...n)=>s.editDescription&&s.editDescription(...n),["prevent"]))},null,8,tt),o("strong",null,h(t.strings.description)+" ",1),o("span",{id:`aioseo-${t.columnName}-${t.postId}-value`},h(s.truncate(t.descriptionParsed)),9,et)])):m("",!0),t.showEditDescription?(c(),d("div",it,[v(o("textarea",{"onUpdate:modelValue":i[5]||(i[5]=n=>t.postDescription=n),class:"aioseo-quickedit-input",rows:"4",columns:"32"},null,512),[[T,t.postDescription]]),o("a",{class:"dashicons aioseo-quickedit-input-save",onClick:i[6]||(i[6]=a((...n)=>s.save&&s.save(...n),["prevent"])),title:t.strings.save},[u(p,{width:"20"})],8,st),o("a",{class:"dashicons aioseo-quickedit-input-cancel",onClick:i[7]||(i[7]=a((...n)=>s.cancel&&s.cancel(...n),["prevent"])),title:t.strings.cancel},[u(r,{width:"20"})],8,ot)])):m("",!0),V(e.$slots,"default"),e.$root._data.screen.base==="upload"&&l.post.showMedia?(c(),d("div",nt,[o("a",{class:"dashicons dashicons-edit aioseo-quickedit",title:t.strings.edit,onClick:i[8]||(i[8]=a((...n)=>s.editImageTitle&&s.editImageTitle(...n),["prevent"]))},null,8,lt),o("strong",null,h(t.strings.imageTitle),1),o("span",{id:`aioseo-${t.columnName}-${t.postId}-value`},h(t.imageTitle),9,rt)])):m("",!0),t.showEditImageTitle?(c(),d("div",at,[v(o("textarea",{"onUpdate:modelValue":i[9]||(i[9]=n=>t.imageTitle=n),class:"aioseo-quickedit-input",rows:"4",columns:"32"},null,512),[[T,t.imageTitle]]),o("a",{class:"dashicons aioseo-quickedit-input-save",onClick:i[10]||(i[10]=a((...n)=>s.saveImage&&s.saveImage(...n),["prevent"])),title:t.strings.save},[u(p,{width:"20"})],8,ct),o("a",{class:"dashicons aioseo-quickedit-input-cancel",onClick:i[11]||(i[11]=a((...n)=>s.cancel&&s.cancel(...n),["prevent"])),title:t.strings.cancel},[u(r,{width:"20"})],8,dt)])):m("",!0),e.$root._data.screen.base==="upload"&&l.post.showMedia?(c(),d("div",ut,[o("a",{class:"dashicons dashicons-edit aioseo-quickedit",title:t.strings.edit,onClick:i[12]||(i[12]=a((...n)=>s.editImageAlt&&s.editImageAlt(...n),["prevent"]))},null,8,mt),o("strong",null,h(t.strings.imageAltTag),1),o("span",{id:`aioseo-${t.columnName}-${t.postId}-value`},h(t.imageAltTag),9,ht)])):m("",!0),t.showEditImageAltTag?(c(),d("div",pt,[v(o("textarea",{"onUpdate:modelValue":i[13]||(i[13]=n=>t.imageAltTag=n),class:"aioseo-quickedit-input",rows:"4",columns:"32"},null,512),[[T,t.imageAltTag]]),o("a",{class:"dashicons aioseo-quickedit-input-save",onClick:i[14]||(i[14]=a((...n)=>s.saveImage&&s.saveImage(...n),["prevent"])),title:t.strings.save},[u(p,{width:"20"})],8,gt),o("a",{class:"dashicons aioseo-quickedit-input-cancel",onClick:i[15]||(i[15]=a((...n)=>s.cancel&&s.cancel(...n),["prevent"])),title:t.strings.cancel},[u(r,{width:"20"})],8,_t)])):m("",!0)])],2)}const vt=f(H,[["render",wt]]),Tt={components:{CorePostColumn:vt},props:{post:Object,index:Number}};function ft(e,i,l,g,t,s){const _=w("core-post-column");return c(),k(_,{post:l.post,index:l.index},null,8,["post","index"])}const E=f(Tt,[["render",ft]]),kt={components:{PostColumn:E,PostColumnLite:E},props:{post:Object,index:Number}};function Pt(e,i,l,g,t,s){const _=w("PostColumn"),p=w("PostColumnLite");return c(),d("div",null,[e.$isPro?(c(),k(_,{key:0,post:l.post,index:l.index},null,8,["post","index"])):m("",!0),e.$isPro?m("",!0):(c(),k(p,{key:1,post:l.post,index:l.index},null,8,["post","index"]))])}const Et=f(kt,[["render",Pt]]);const It={setup(){const{strings:e}=S();return{composableStrings:e}},components:{SvgCircleCheck:x,SvgCircleClose:q},mixins:[N],props:{term:Object,terms:Array,index:Number},data(){return{termId:null,columnName:null,title:null,titleParsed:null,termDescription:null,descriptionParsed:null,showEditTitle:!1,showEditDescription:!1,showTruSeo:!1,strings:b(this.composableStrings,{title:this.$t.__("Title:",this.$td),description:this.$t.__("Description:",this.$td),edit:this.$t.__("Edit",this.$td),save:this.$t.__("Save",this.$td),cancel:this.$t.__("Cancel",this.$td),wait:this.$t.__("Please wait...",this.$td)})}},methods:{save(){this.showEditTitle=!1,this.showEditDescription=!1,this.term.title=this.title,this.term.description=this.termDescription,P.post(this.$links.restUrl("termscreen")).send({termId:this.term.id,title:this.term.title,description:this.term.description}).then(e=>{this.titleParsed=e.body.title,this.descriptionParsed=e.body.description,this.term.titleParsed=e.body.title,this.term.descriptionParsed=e.body.description}).catch(e=>{console.error(`Unable to update term with ID ${this.term.id}: ${e}`)})},cancel(){this.showEditTitle=!1,this.showEditDescription=!1},editTitle(){this.showEditTitle=!0},editDescription(){this.showEditDescription=!0},truncate:D},mounted(){this.termId=this.term.id,this.columnName=this.term.columnName,this.title=this.term.title,this.titleParsed=this.term.titleParsed,this.termDescription=this.term.description,this.descriptionParsed=this.term.descriptionParsed},async created(){this.showTruSeo=z()}},yt={class:"edit-row edit-title"},Ct=["title"],bt=["id"],Dt={key:0,class:"edit-row"},At=["title"],St=["title"],Nt={class:"edit-row edit-description"},xt=["title"],qt=["id"],Ut={key:1,class:"edit-row"},Vt=["title"],Bt=["title"];function Lt(e,i,l,g,t,s){const _=w("svg-circle-check"),p=w("svg-circle-close");return c(),d("div",{class:I(["aioseo-details-column",{editing:t.showEditTitle||t.showEditDescription}])},[o("div",null,[o("div",yt,[o("a",{class:"dashicons dashicons-edit aioseo-quickedit",title:t.strings.edit,onClick:i[0]||(i[0]=a((...r)=>s.editTitle&&s.editTitle(...r),["prevent"]))},null,8,Ct),o("strong",null,h(t.strings.title),1),o("span",{id:`aioseo-${t.columnName}-${t.termId}-value`},h(s.truncate(t.titleParsed,100)),9,bt)]),t.showEditTitle?(c(),d("div",Dt,[v(o("textarea",{"onUpdate:modelValue":i[1]||(i[1]=r=>t.title=r),class:"aioseo-quickedit-input",rows:"4",columns:"32"},null,512),[[T,t.title]]),o("a",{class:"dashicons aioseo-quickedit-input-save",onClick:i[2]||(i[2]=a((...r)=>s.save&&s.save(...r),["prevent"])),title:t.strings.save},[u(_,{width:"20"})],8,At),o("a",{class:"dashicons aioseo-quickedit-input-cancel",onClick:i[3]||(i[3]=a((...r)=>s.cancel&&s.cancel(...r),["prevent"])),title:t.strings.cancel},[u(p,{width:"20"})],8,St)])):m("",!0),o("div",Nt,[o("a",{class:"dashicons dashicons-edit aioseo-quickedit",title:t.strings.edit,onClick:i[4]||(i[4]=a((...r)=>s.editDescription&&s.editDescription(...r),["prevent"]))},null,8,xt),o("strong",null,h(t.strings.description),1),o("span",{id:`aioseo-${t.columnName}-${t.termId}-value`},h(s.truncate(t.descriptionParsed)),9,qt)]),t.showEditDescription?(c(),d("div",Ut,[v(o("textarea",{"onUpdate:modelValue":i[5]||(i[5]=r=>t.termDescription=r),class:"aioseo-quickedit-input",rows:"4",columns:"32"},null,512),[[T,t.termDescription]]),o("a",{class:"dashicons aioseo-quickedit-input-save",onClick:i[6]||(i[6]=a((...r)=>s.save&&s.save(...r),["prevent"])),title:t.strings.save},[u(_,{width:"20"})],8,Vt),o("a",{class:"dashicons aioseo-quickedit-input-cancel",onClick:i[7]||(i[7]=a((...r)=>s.cancel&&s.cancel(...r),["prevent"])),title:t.strings.cancel},[u(p,{width:"20"})],8,Bt)])):m("",!0)])],2)}const Mt=f(It,[["render",Lt]]),U=e=>(e=B(e),e=L(e),e=M(e),O(e),e.config.globalProperties.$truSeo=new R,e),Ot=(e,i)=>{U(y({name:"Standalone/PostsTable/"+e.id,data(){return{screen:window.aioseo.screen}},render:()=>C(Et)},{post:e,index:i})).mount(`#${e.columnName}-${e.id}`)};window.aioseo.posts&&window.aioseo.posts.forEach((e,i)=>{A(`#${e.columnName}-${e.id}`,`aioseoPostsTable-${e.id}`),document.addEventListener("animationstart",function(l){`aioseoPostsTable-${e.id}`===l.animationName&&Ot(e,i)},{passive:!0})});const jt=(e,i)=>{U(y({name:"Standalone/TermsTable/"+e.id,data(){return{screen:window.aioseo.screen}},render:()=>C(Mt)},{term:e,index:i})).mount(`#${e.columnName}-${e.id}`)};window.aioseo.terms&&window.aioseo.posts.length===0&&window.aioseo.terms.forEach((e,i)=>{A(`#${e.columnName}-${e.id}`,`aioseoTermsTable-${e.id}`),document.addEventListener("animationstart",function(l){`aioseoTermsTable-${e.id}`===l.animationName&&jt(e,i)},{passive:!0})});
