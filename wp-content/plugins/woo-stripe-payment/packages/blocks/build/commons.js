/*! For license information please see commons.js.LICENSE.txt */
(self.webpackChunkwc_stripe=self.webpackChunkwc_stripe||[]).push([[351],{7228:e=>{e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},2858:e=>{e.exports=function(e){if(Array.isArray(e))return e}},3646:(e,t,n)=>{var r=n(7228);e.exports=function(e){if(Array.isArray(e))return r(e)}},1506:e=>{e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},8926:e=>{function t(e,t,n,r,a,o,i){try{var c=e[o](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,a)}e.exports=function(e){return function(){var n=this,r=arguments;return new Promise((function(a,o){var i=e.apply(n,r);function c(e){t(i,a,o,c,s,"next",e)}function s(e){t(i,a,o,c,s,"throw",e)}c(void 0)}))}}},4575:e=>{e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},9100:(e,t,n)=>{var r=n(9489),a=n(7067);function o(t,n,i){return a()?e.exports=o=Reflect.construct:e.exports=o=function(e,t,n){var a=[null];a.push.apply(a,t);var o=new(Function.bind.apply(e,a));return n&&r(o,n.prototype),o},o.apply(null,arguments)}e.exports=o},3913:e=>{function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}},9713:e=>{e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},7154:e=>{function t(){return e.exports=t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},t.apply(this,arguments)}e.exports=t},9754:e=>{function t(n){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},t(n)}e.exports=t},2205:(e,t,n)=>{var r=n(9489);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}},5318:e=>{e.exports=function(e){return e&&e.__esModule?e:{default:e}}},430:e=>{e.exports=function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}},7067:e=>{e.exports=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}},6860:e=>{e.exports=function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}},3884:e=>{e.exports=function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}}},521:e=>{e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},8206:e=>{e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},6479:(e,t,n)=>{var r=n(7316);e.exports=function(e,t){if(null==e)return{};var n,a,o=r(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}},7316:e=>{e.exports=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}},8585:(e,t,n)=>{var r=n(8),a=n(1506);e.exports=function(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?a(e):t}},9489:e=>{function t(n,r){return e.exports=t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},t(n,r)}e.exports=t},3038:(e,t,n)=>{var r=n(2858),a=n(3884),o=n(379),i=n(521);e.exports=function(e,t){return r(e)||a(e,t)||o(e,t)||i()}},319:(e,t,n)=>{var r=n(3646),a=n(6860),o=n(379),i=n(8206);e.exports=function(e){return r(e)||a(e)||o(e)||i()}},8:e=>{function t(n){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?e.exports=t=function(e){return typeof e}:e.exports=t=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(n)}e.exports=t},379:(e,t,n)=>{var r=n(7228);e.exports=function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}},5957:(e,t,n)=>{var r=n(9754),a=n(9489),o=n(430),i=n(9100);function c(t){var n="function"==typeof Map?new Map:void 0;return e.exports=c=function(e){if(null===e||!o(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==n){if(n.has(e))return n.get(e);n.set(e,t)}function t(){return i(e,arguments,r(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),a(t,e)},c(t)}e.exports=c},6664:function(e,t,n){!function(e,t){"use strict";function n(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function r(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){c=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t;function s(){}function u(){}u.resetWarningCache=s;var l,p,d=(l=function(e){e.exports=function(){function e(e,t,n,r,a,o){if("SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"!==o){var i=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw i.name="Invariant Violation",i}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:u,resetWarningCache:s};return n.PropTypes=n,n}()},l(p={exports:{}},p.exports),p.exports),m=function(e){var n=t.useRef(e);return t.useEffect((function(){n.current=e}),[e]),n.current},f=function(e){return null!==e&&"object"===a(e)},y="[object Object]",g=function e(t,n){if(!f(t)||!f(n))return t===n;var r=Array.isArray(t);if(r!==Array.isArray(n))return!1;var a=Object.prototype.toString.call(t)===y;if(a!==(Object.prototype.toString.call(n)===y))return!1;if(!a&&!r)return t===n;var o=Object.keys(t),i=Object.keys(n);if(o.length!==i.length)return!1;for(var c={},s=0;s<o.length;s+=1)c[o[s]]=!0;for(var u=0;u<i.length;u+=1)c[i[u]]=!0;var l=Object.keys(c);if(l.length!==o.length)return!1;var p=t,d=n;return l.every((function(t){return e(p[t],d[t])}))},h=function(e,t,n){return f(e)?Object.keys(e).reduce((function(a,i){var c=!f(t)||!g(e[i],t[i]);return n.includes(i)?(c&&console.warn("Unsupported prop change: options.".concat(i," is not a mutable property.")),a):c?r(r({},a||{}),{},o({},i,e[i])):a}),null):null},v=function(e){if(null===e||f(t=e)&&"function"==typeof t.elements&&"function"==typeof t.createToken&&"function"==typeof t.createPaymentMethod&&"function"==typeof t.confirmCardPayment)return e;var t;throw new Error("Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.")},b=function(e){if(function(e){return f(e)&&"function"==typeof e.then}(e))return{tag:"async",stripePromise:Promise.resolve(e).then(v)};var t=v(e);return null===t?{tag:"empty"}:{tag:"sync",stripe:t}},P=t.createContext(null);P.displayName="ElementsContext";var E=t.createContext(null);E.displayName="CartElementContext";var O=function(e){var n=e.stripe,r=e.options,a=e.children,o=t.useMemo((function(){return b(n)}),[n]),c=i(t.useState(null),2),s=c[0],u=c[1],l=i(t.useState(null),2),p=l[0],d=l[1],f=i(t.useState((function(){return{stripe:"sync"===o.tag?o.stripe:null,elements:"sync"===o.tag?o.stripe.elements(r):null}})),2),y=f[0],g=f[1];t.useEffect((function(){var e=!0,t=function(e){g((function(t){return t.stripe?t:{stripe:e,elements:e.elements(r)}}))};return"async"!==o.tag||y.stripe?"sync"!==o.tag||y.stripe||t(o.stripe):o.stripePromise.then((function(n){n&&e&&t(n)})),function(){e=!1}}),[o,y,r]);var v=m(n);t.useEffect((function(){null!==v&&v!==n&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")}),[v,n]);var O=m(r);return t.useEffect((function(){if(y.elements){var e=h(r,O,["clientSecret","fonts"]);e&&y.elements.update(e)}}),[r,O,y.elements]),t.useEffect((function(){var e=y.stripe;e&&e._registerWrapper&&e.registerAppInfo&&(e._registerWrapper({name:"react-stripe-js",version:"2.1.0"}),e.registerAppInfo({name:"react-stripe-js",version:"2.1.0",url:"https://stripe.com/docs/stripe-js/react"}))}),[y.stripe]),t.createElement(P.Provider,{value:y},t.createElement(E.Provider,{value:{cart:s,setCart:u,cartState:p,setCartState:d}},a))};O.propTypes={stripe:d.any,options:d.object};var _=function(e){return function(e,t){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(t," in an <Elements> provider."));return e}(t.useContext(P),e)},S=function(e){return function(e,t){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(t," in an <Elements> provider."));return e}(t.useContext(E),e)},w=function(e){return(0,e.children)(_("mounts <ElementsConsumer>"))};w.propTypes={children:d.func.isRequired};var C=function(e,n,r){var a=!!r,o=t.useRef(r);t.useEffect((function(){o.current=r}),[r]),t.useEffect((function(){if(!a||!e)return function(){};var t=function(){o.current&&o.current.apply(o,arguments)};return e.on(n,t),function(){e.off(n,t)}}),[a,n,e,o])},k=function(e,n){var r,a="".concat((r=e).charAt(0).toUpperCase()+r.slice(1),"Element"),o=n?function(e){_("mounts <".concat(a,">")),S("mounts <".concat(a,">"));var n=e.id,r=e.className;return t.createElement("div",{id:n,className:r})}:function(n){var r,o=n.id,c=n.className,s=n.options,u=void 0===s?{}:s,l=n.onBlur,p=n.onFocus,d=n.onReady,f=n.onChange,y=n.onEscape,g=n.onClick,v=n.onLoadError,b=n.onLoaderStart,P=n.onNetworksChange,E=n.onCheckout,O=n.onLineItemClick,w=n.onConfirm,k=n.onCancel,M=n.onShippingAddressChange,j=n.onShippingRateChange,D=_("mounts <".concat(a,">")).elements,x=i(t.useState(null),2),R=x[0],A=x[1],L=t.useRef(null),I=t.useRef(null),T=S("mounts <".concat(a,">")),N=T.setCart,B=T.setCartState;C(R,"blur",l),C(R,"focus",p),C(R,"escape",y),C(R,"click",g),C(R,"loaderror",v),C(R,"loaderstart",b),C(R,"networkschange",P),C(R,"lineitemclick",O),C(R,"confirm",w),C(R,"cancel",k),C(R,"shippingaddresschange",M),C(R,"shippingratechange",j),"cart"===e?r=function(e){B(e),d&&d(e)}:d&&(r="expressCheckout"===e?d:function(){d(R)}),C(R,"ready",r),C(R,"change","cart"===e?function(e){B(e),f&&f(e)}:f),C(R,"checkout","cart"===e?function(e){B(e),E&&E(e)}:E),t.useLayoutEffect((function(){if(null===L.current&&D&&null!==I.current){var t=D.create(e,u);"cart"===e&&N&&N(t),L.current=t,A(t),t.mount(I.current)}}),[D,u,N]);var F=m(u);return t.useEffect((function(){if(L.current){var e=h(u,F,["paymentRequest"]);e&&L.current.update(e)}}),[u,F]),t.useLayoutEffect((function(){return function(){L.current&&(L.current.destroy(),L.current=null)}}),[]),t.createElement("div",{id:o,className:c,ref:I})};return o.propTypes={id:d.string,className:d.string,onChange:d.func,onBlur:d.func,onFocus:d.func,onReady:d.func,onEscape:d.func,onClick:d.func,onLoadError:d.func,onLoaderStart:d.func,onNetworksChange:d.func,onCheckout:d.func,onLineItemClick:d.func,onConfirm:d.func,onCancel:d.func,onShippingAddressChange:d.func,onShippingRateChange:d.func,options:d.object},o.displayName=a,o.__elementType=e,o},M="undefined"==typeof window,j=k("auBankAccount",M),D=k("card",M),x=k("cardNumber",M),R=k("cardExpiry",M),A=k("cardCvc",M),L=k("fpxBank",M),I=k("iban",M),T=k("idealBank",M),N=k("p24Bank",M),B=k("epsBank",M),F=k("payment",M),q=k("expressCheckout",M),U=k("paymentRequestButton",M),X=k("linkAuthentication",M),V=k("address",M),W=k("shippingAddress",M),G=k("cart",M),Y=k("paymentMethodMessaging",M),H=k("affirmMessage",M),K=k("afterpayClearpayMessage",M);e.AddressElement=V,e.AffirmMessageElement=H,e.AfterpayClearpayMessageElement=K,e.AuBankAccountElement=j,e.CardCvcElement=A,e.CardElement=D,e.CardExpiryElement=R,e.CardNumberElement=x,e.CartElement=G,e.Elements=O,e.ElementsConsumer=w,e.EpsBankElement=B,e.ExpressCheckoutElement=q,e.FpxBankElement=L,e.IbanElement=I,e.IdealBankElement=T,e.LinkAuthenticationElement=X,e.P24BankElement=N,e.PaymentElement=F,e.PaymentMethodMessagingElement=Y,e.PaymentRequestButtonElement=U,e.ShippingAddressElement=W,e.useCartElement=function(){return S("calls useCartElement()").cart},e.useCartElementState=function(){return S("calls useCartElementState()").cartState},e.useElements=function(){return _("calls useElements()").elements},e.useStripe=function(){return _("calls useStripe()").stripe},Object.defineProperty(e,"__esModule",{value:!0})}(t,n(9196))},4465:(e,t,n)=>{"use strict";n.r(t),n.d(t,{loadStripe:()=>u});var r="https://js.stripe.com/v3",a=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,o="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",i=null,c=Promise.resolve().then((function(){return e=null,null!==i||(i=new Promise((function(t,n){if("undefined"!=typeof window&&"undefined"!=typeof document)if(window.Stripe&&e&&console.warn(o),window.Stripe)t(window.Stripe);else try{var i=function(){for(var e=document.querySelectorAll('script[src^="'.concat(r,'"]')),t=0;t<e.length;t++){var n=e[t];if(a.test(n.src))return n}return null}();i&&e?console.warn(o):i||(i=function(e){var t=e&&!e.advancedFraudSignals?"?advancedFraudSignals=false":"",n=document.createElement("script");n.src="".concat(r).concat(t);var a=document.head||document.body;if(!a)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return a.appendChild(n),n}(e)),i.addEventListener("load",(function(){window.Stripe?t(window.Stripe):n(new Error("Stripe.js not available"))})),i.addEventListener("error",(function(){n(new Error("Failed to load Stripe.js"))}))}catch(e){return void n(e)}else t(null)}))),i;var e})),s=!1;c.catch((function(e){s||console.warn(e)}));var u=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];s=!0;var r=Date.now();return c.then((function(e){return function(e,t,n){if(null===e)return null;var r=e.apply(void 0,t);return function(e,t){e&&e._registerWrapper&&e._registerWrapper({name:"stripe-js",version:"1.53.0",startTime:t})}(r,n),r}(e,t,r)}))}},3187:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});var r=n(2029);Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===r[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}}))}));var a=n(8744);Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===a[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}}))}));var o=n(4901);Object.keys(o).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===o[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}}))}));var i=n(3193);Object.keys(i).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===i[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}}))}));var c=n(5125);Object.keys(c).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===c[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return c[e]}}))}))},3193:(e,t,n)=>{var r=n(9307),a=n(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Installments=void 0;var o=a(n(1284)),i=a(n(8926)),c=a(n(3038)),s=n(9307),u=n(5736),l=a(n(6989)),p=a(n(4184)),d=n(1134);n(1465);var m=function(e){var t=e.paymentMethodName,n=e.cardFormComplete,a=void 0!==n&&n,p=e.addPaymentMethodData,m=void 0===p?null:p,g=e.getPaymentMethod,h=(0,s.useState)(null),v=(0,c.default)(h,2),b=v[0],P=v[1],E=(0,s.useState)(""),O=(0,c.default)(E,2),_=O[0],S=O[1],w=(0,s.useState)(!1),C=(0,c.default)(w,2),k=C[0],M=C[1];return(0,s.useEffect)((function(){a&&(M(!0),S(""),g().then(function(){var e=(0,i.default)(o.default.mark((function e(n){var r,a;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=6;break}return e.next=3,(0,l.default)({url:(0,d.getRoute)("create/payment_intent"),method:"POST",data:{payment_method_id:n,payment_method:t}});case 3:a=e.sent,P(a.installments),null!==(r=Object.keys(a.installments))&&void 0!==r&&r.length&&S(Object.keys(a.installments)[0]);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log(e)})).finally((function(){return M(!1)})))}),[a,g]),r.createElement("div",{className:"wc-stripe-installments__container"},r.createElement("label",{className:"wc-stripe-installments__label"},(0,u.__)("Pay in installments:","woo-stripe-payment"),r.createElement(y,{loading:k})),r.createElement(f,{installment:_,onChange:function(e){S(e.target.value),m&&m({_stripe_installment_plan:e.target.value})},installments:b,isLoading:k}))};t.Installments=m;var f=function(e){var t,n=e.installment,a=e.installments,o=e.onChange,i=e.isLoading;return t=i?r.createElement("option",{value:"",disabled:!0},(0,u.__)("Loading installments...","woo-stripe-payment")):null===a?r.createElement("option",{value:"",disabled:!0},(0,u.__)("Fill out card form for eligibility.","woo-stripe-payment")):Object.keys(a).map((function(e){return r.createElement("option",{key:e,value:e,dangerouslySetInnerHTML:{__html:a[e].text}})})),r.createElement("select",{value:n,onChange:o,className:(0,p.default)("wc-stripe-installment__options",{loading:i})},t)},y=function(e){var t=e.loading;return r.createElement("div",{className:"wc-stripe-installment-loader__container"},t&&r.createElement("div",{className:"wc-stripe-installment-loader"},r.createElement("div",null),r.createElement("div",null),r.createElement("div",null)))},g=m;t.default=g},5125:(e,t,n)=>{var r=n(9307);Object.defineProperty(t,"__esModule",{value:!0}),t.OffsiteNotice=void 0;var a=n(5736),o=(0,n(4617).getSetting)("stripeGeneralData");t.OffsiteNotice=function(e){var t=e.paymentText,n=e.buttonText,i=void 0===n?(0,a.__)("","woo-stripe-payment"):n;return r.createElement("div",{className:"wc-stripe-blocks-offsite-notice"},r.createElement("div",null,r.createElement("img",{src:"".concat(o.assetsUrl,"/img/offsite.svg")}),r.createElement("p",null,(0,a.sprintf)((0,a.__)('After clicking "%1$s", you will be redirected to %2$s to complete your purchase securely.',"woo-stripe-payment"),i,t))))}},2029:(e,t,n)=>{var r=n(9307),a=n(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.PaymentMethodLabel=void 0;var o=a(n(6479));n(7776),t.PaymentMethodLabel=function(e){var t=e.title,n=e.icons,a=e.paymentMethod,i=(0,o.default)(e,["title","icons","paymentMethod"]).components,c=i.PaymentMethodLabel,s=i.PaymentMethodIcons;return Array.isArray(n)||(n=[n]),r.createElement("span",{className:"wc-stripe-label-container ".concat(a)},r.createElement(c,{text:t}),r.createElement(s,{icons:n,align:"left"}))}},4901:(e,t,n)=>{var r=n(9307),a=n(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.PaymentMethod=void 0;var o=a(n(9713)),i=a(n(6479)),c=n(9307);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.PaymentMethod=function(e){var t=e.getData,n=e.content,a=(0,i.default)(e,["getData","content"]),o=n,s=t("description"),p=(0,c.useRef)(null);return(0,c.useEffect)((function(){p.current&&0==p.current.childNodes.length&&p.current.classList.add("no-content")})),r.createElement(r.Fragment,null,s&&r.createElement(l,{desc:s,payment_method:t("name")}),r.createElement("div",{ref:p,className:"wc-stripe-blocks-payment-method-content"},r.createElement(o,u(u({},a),{},{getData:t}))))};var l=function(e){var t=e.desc,n=e.payment_method;return r.createElement("div",{className:"wc-stripe-blocks-payment-method__desc ".concat(n)},r.createElement("p",null,t))}},8744:(e,t,n)=>{var r=n(9307),a=n(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.RadioControlOption=void 0;var o=a(n(4184)),i=function(e){var t=e.checked,n=e.onChange,a=e.value,i=e.label;return r.createElement("label",{className:(0,o.default)("wc-stripe-blocks-radio-control__option",{"wc-stripe-blocks-radio-control__option-checked":t})},r.createElement("input",{className:"wc-stripe-blocks-radio-control__input",type:"radio",value:a,checked:t,onChange:function(e){return n(e.target.value)}}),r.createElement("div",{className:"wc-stripe-blocks-radio-control__label"},r.createElement("span",null,i)))};t.RadioControlOption=i;var c=i;t.default=c},7260:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});var r=n(5201);Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===r[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}}))}))},5201:(e,t,n)=>{var r=n(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.useProcessPayment=void 0;var a=r(n(1284)),o=r(n(8926)),i=r(n(9713)),c=n(9307),s=n(6664),u=n(1134),l=r(n(6989));function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){(0,i.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.useProcessPayment=function(e){var t=e.onCheckoutAfterProcessingWithSuccess,n=e.responseTypes,r=(e.paymentMethod,e.billingAddress),i=(0,s.useStripe)(),p=(0,c.useRef)({billingAddress:r});(0,c.useEffect)((function(){p.current=d(d({},p.current),{},{billingAddress:r})})),(0,c.useEffect)((function(){var e=t(function(){var e=(0,o.default)(a.default.mark((function e(t){var n,r;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.redirectUrl,!(r=(0,u.isNextActionRequired)(n))){e.next=12;break}if("intent"!==r.type){e.next=9;break}return e.next=6,m(r,i);case 6:case 11:return e.abrupt("return",e.sent);case 9:return e.next=11,f(r,i);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());return function(){return e()}}),[t,n,i,m,f]);var m=(0,c.useCallback)(function(){var e=(0,o.default)(a.default.mark((function e(t,r){var o,i,c,s,d,m,f;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=p.current.billingAddress,i=t.client_secret,c=t.order_id,s=t.order_key,e.prev=2,e.next=5,r.collectBankAccountForPayment({clientSecret:i,params:{payment_method_type:"us_bank_account",payment_method_data:{billing_details:{name:"".concat(o.first_name," ").concat(o.last_name),email:o.email}}}});case 5:if(!(d=e.sent).error){e.next=8;break}throw d.error;case 8:if("requires_confirmation"!==d.paymentIntent.status){e.next=25;break}return e.next=11,r.confirmUsBankAccountPayment(i);case 11:if(!(m=e.sent).error){e.next=14;break}throw m.error;case 14:if("processing"!==m.paymentIntent.status){e.next=23;break}return e.next=17,(0,l.default)({url:(0,u.getRoute)("process/payment"),method:"POST",data:{order_id:c,order_key:s,stripe_ach_token_key:m.paymentIntent.payment_method}});case 17:if(!(f=e.sent).messages){e.next=20;break}throw f.messages;case 20:return e.abrupt("return",(0,u.ensureSuccessResponse)(n,{redirectUrl:f.redirect}));case 23:if("requires_action"!==m.paymentIntent.status){e.next=25;break}throw{code:"ach_instant_only"};case 25:e.next=30;break;case 27:return e.prev=27,e.t0=e.catch(2),e.abrupt("return",(0,u.ensureErrorResponse)(n,e.t0));case 30:case"end":return e.stop()}}),e,null,[[2,27]])})));return function(t,n){return e.apply(this,arguments)}}(),[]),f=(0,c.useCallback)(function(){var e=(0,o.default)(a.default.mark((function e(t,r){var o,i,c,s,d,m,f,y,g;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=p.current.billingAddress,i=t.client_secret,c=t.order_id,s=t.order_key,e.prev=2,e.next=5,r.collectBankAccountForSetup({clientSecret:i,params:{payment_method_type:"us_bank_account",payment_method_data:{billing_details:{name:"".concat(o.first_name," ").concat(o.last_name),email:o.email}}}});case 5:if(!(d=e.sent).error){e.next=8;break}throw d.error;case 8:if("requires_confirmation"!==d.setupIntent.status){e.next=27;break}return e.next=11,r.confirmUsBankAccountSetup(i);case 11:if(m=e.sent,f=m.setupIntent,!(y=m.error)){e.next=16;break}throw y;case 16:if("succeeded"!==f.status){e.next=25;break}return e.next=19,(0,l.default)({url:(0,u.getRoute)("process/payment"),method:"POST",data:{order_id:c,order_key:s,stripe_ach_token_key:f.payment_method}});case 19:if(!(g=e.sent).messages){e.next=22;break}throw g.messages;case 22:return e.abrupt("return",(0,u.ensureSuccessResponse)(n,{redirectUrl:g.redirect}));case 25:if("requires_action"!==f.status){e.next=27;break}throw{code:"ach_instant_only"};case 27:e.next=33;break;case 29:return e.prev=29,e.t0=e.catch(2),console.log(e.t0),e.abrupt("return",(0,u.ensureErrorResponse)(n,e.t0));case 33:case"end":return e.stop()}}),e,null,[[2,29]])})));return function(t,n){return e.apply(this,arguments)}}(),[])}},5605:(e,t,n)=>{n(4836),n(4888)},4888:(e,t,n)=>{var r=n(9307),a=n(5318),o=a(n(6479)),i=(n(9307),n(4613)),c=n(6664),s=n(1134),u=n(3187),l=a(n(1065)),p=n(7260),d=n(3636),m=(0,s.getSettings)("stripe_ach_data"),f=function(e){var t=e.eventRegistration,n=(e.components,e.emitResponse),a=(e.onSubmit,e.billing),i=((0,o.default)(e,["eventRegistration","components","emitResponse","onSubmit","billing"]),n.responseTypes),c=(t.onPaymentProcessing,t.onCheckoutAfterProcessingWithError),s=t.onCheckoutAfterProcessingWithSuccess;return(0,d.useProcessCheckoutError)({responseTypes:i,subscriber:c}),(0,p.useProcessPayment)({onCheckoutAfterProcessingWithSuccess:s,responseTypes:i,paymentMethod:m("name"),billingAddress:a.billingData}),r.createElement("div",{className:"wc-stripe-ach__container"},r.createElement(g,{text:m("mandateText")}))},y=function(e){return r.createElement(c.Elements,{stripe:s.initStripe},r.createElement(f,e))},g=function(e){var t=e.text;return r.createElement("p",{className:"wc-stripe-ach__mandate"},t)};(0,i.registerPaymentMethod)({name:m("name"),label:r.createElement(u.PaymentMethodLabel,{title:m("title"),paymentMethod:m("name"),icons:m("icons")}),ariaLabel:"ACH Payment",canMakePayment:function(e){return"USD"===e.cartTotals.currency_code},content:r.createElement(u.PaymentMethod,{getData:m,content:y}),savedTokenComponent:r.createElement(l.default,{getData:m}),edit:r.createElement(y,null),placeOrderButtonLabel:m("placeOrderButtonLabel"),supports:{showSavedCards:m("showSavedCards"),showSaveOption:!1,features:m("features")}})},3846:(e,t,n)=>{n(85),n(660)},660:(e,t,n)=>{var r=n(9307),a=n(5318),o=a(n(3038)),i=a(n(6479)),c=n(9307),s=n(4613),u=n(1134),l=n(6664),p=a(n(7082)),d=n(3636),m=(0,u.getSettings)("stripe_applepay_data"),f=function(e){return r.createElement(p.default,null,r.createElement("div",{className:"wc-stripe-apple-pay-container"},r.createElement(l.Elements,{stripe:u.initStripe},r.createElement(y,e))))},y=function(e){var t=e.getData,n=e.onClick,a=e.onClose,s=e.billing,u=e.shippingData,p=e.eventRegistration,m=e.emitResponse,f=e.onSubmit,y=e.activePaymentMethod,g=((0,i.default)(e,["getData","onClick","onClose","billing","shippingData","eventRegistration","emitResponse","onSubmit","activePaymentMethod"]),p.onPaymentProcessing),h=m.responseTypes,v=m.noticeContexts,b=(0,l.useStripe)(),P=(0,d.useStripeError)(),E=(0,o.default)(P,1)[0],O=(0,d.useExportedValues)();(0,d.useExpressBreakpointWidth)({payment_method:t("name"),width:375});var _=(0,d.useProcessPaymentIntent)({getData:t,billing:s,shippingData:u,onPaymentProcessing:g,emitResponse:m,error:E,onSubmit:f,activePaymentMethod:y,exportedValues:O}).setPaymentMethod;(0,d.useAfterProcessingPayment)({getData:t,eventRegistration:p,responseTypes:h,activePaymentMethod:y,messageContext:v.EXPRESS_PAYMENTS});var S=(0,d.usePaymentRequest)({getData:t,onClose:a,stripe:b,billing:s,shippingData:u,setPaymentMethod:_,exportedValues:O,canPay:function(e){return null!=e&&e.applePay}}).paymentRequest,w=(0,c.useCallback)((function(e){S&&(e.preventDefault(),n(),S.show())}),[S,n]);return S?r.createElement("button",{className:"apple-pay-button ".concat(t("buttonStyle")),style:{"-apple-pay-button-type":t("buttonType")},onClick:w}):null},g=function(e){var t=e.getData;return(0,i.default)(e,["getData"]),r.createElement("div",{className:"apple-pay-block-editor"},r.createElement("img",{src:t("editorIcon")}))};(0,s.registerExpressPaymentMethod)({name:m("name"),canMakePayment:function(e){var t=e.cartTotals;if((0,i.default)(e,["cartTotals"]),m("isAdmin"))return!0;var n=t.currency_code,r=t.total_price;return(0,u.canMakePayment)({country:m("countryCode"),currency:n.toLowerCase(),total:{label:m("totalLabel"),amount:parseInt(r)}},(function(e){return null!=e&&e.applePay}))},content:r.createElement(f,{getData:m}),edit:r.createElement(g,{getData:m}),supports:{showSavedCards:m("showSavedCards"),showSaveOption:m("showSaveOption"),features:m("features")}})},7354:(e,t,n)=>{var r=n(9307);n(3110);var a=n(1134),o=n(6664),i=n(5736),c=function(e){var t=e.CardIcon,n=e.options,a=e.onChange;return r.createElement("div",{className:"wc-stripe-bootstrap-form"},r.createElement("div",{className:"row"},r.createElement("div",{className:"col-md-6 mb-3"},r.createElement(o.CardNumberElement,{className:"md-form md-outline stripe-input",options:n.cardNumber,onChange:a(o.CardNumberElement)}),r.createElement("label",{htmlFor:"stripe-card-number"},(0,i.__)("Card Number","woo-stripe-payment")),t),r.createElement("div",{className:"col-md-3 mb-3"},r.createElement(o.CardExpiryElement,{className:"md-form md-outline stripe-input",options:n.cardExpiry,onChange:a(o.CardExpiryElement)}),r.createElement("label",{htmlFor:"stripe-exp"},(0,i.__)("Exp","woo-stripe-payment"))),r.createElement("div",{className:"col-md-3 mb-3"},r.createElement(o.CardCvcElement,{className:"md-form md-outline stripe-input",options:n.cardCvc,onChange:a(o.CardCvcElement)}),r.createElement("label",{htmlFor:"stripe-cvv"},(0,i.__)("CVV","woo-stripe-payment")))))};(0,a.registerCreditCardForm)({id:"bootstrap",breakpoint:475,component:r.createElement(c,null)})},3329:(e,t,n)=>{var r=n(9307),a=n(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n(9713)),i=a(n(3038)),c=n(1134),s=n(9307),u=n(6664),l=n(5736),p=n(3636);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var f={focus:"focused",empty:"empty",invalid:"invalid"},y=function(e){var t=e.type,n=e.src;return t?r.createElement("img",{className:"wc-stripe-card ".concat(t),src:n}):null};t.default=function(e){var t=e.getData,n=e.onChange,a=e.onComplete,o=(0,s.useState)(""),d=(0,i.default)(o,2),g=d[0],h=d[1],v=(0,s.useRef)([]),b=(0,s.useState)(null),P=(0,i.default)(b,2),E=P[0],O=P[1],_=(0,u.useElements)(),S=t("customForm"),w=(0,c.getCreditCardForm)(S),C=w.component,k=void 0===C?null:C,M=w.breakpoint,j=void 0===M?475:M,D=t("postalCodeEnabled"),x={},R=(0,s.useRef)({cardNumber:{},cardExpiry:{},cardCvc:{}});["cardNumber","cardExpiry","cardCvc"].forEach((function(e){x[e]=m(m({classes:f},t("cardOptions")),t("customFieldOptions")[e])}));var A=(0,s.useCallback)((function(e){v.current.includes(e)||v.current.push(e)}),[]);(0,p.useBreakpointWidth)({name:"creditCardForm",width:j,node:E,className:"small-form"});var L=(0,s.useCallback)((function(e){for(var n=0,r=Object.keys(t("cards"));n<r.length;n++){var a=r[n];if(a===e)return t("cards")[a]}return""}),[]);return k?r.createElement("div",{className:"wc-stripe-custom-form ".concat(S),ref:O},(0,s.cloneElement)(k,{postalCodeEnabled:D,options:x,onChange:function(e){return A(e),function(t){if(n(t),R.current[t.elementType]=t,"cardNumber"===t.elementType&&("unknown"===t.brand?h(""):h(t.brand)),t.complete){var r=v.current.indexOf(e);if(v.current[r+1]){var o=v.current[r+1];_.getElement(o).focus()}}var i;a((i=R.current,Object.keys(i).filter((function(e){return!!i[e].complete})).length===Object.keys(i).length))}},CardIcon:r.createElement(y,{type:g,src:L(g)})})):r.createElement("div",{className:"wc-stripe-custom-form-error"},r.createElement("p",null,(0,l.sprintf)((0,l.__)("%s is not a valid blocks Stripe custom form. Please choose another custom form option in the Credit Card Settings.","woo-stripe-payment"),t("customFormLabels")[S])))}},6835:(e,t,n)=>{var r=n(9307);n(8356);var a=n(1134),o=n(6664),i=n(5736),c=n(9307),s=function(e){var t=e.CardIcon,n=e.options,a=e.onChange;return(0,c.useEffect)((function(){}),[]),r.createElement("div",{className:"wc-stripe-simple-form"},r.createElement("div",{className:"row"},r.createElement("div",{className:"field"},r.createElement("div",{className:"field-item"},r.createElement(o.CardNumberElement,{id:"stripe-card-number",className:"input empty",options:n.cardNumber,onChange:a(o.CardNumberElement)}),r.createElement("label",{htmlFor:"stripe-card-number","data-tid":""},(0,i.__)("Card Number","woo-stripe-payment")),r.createElement("div",{className:"baseline"}),t))),r.createElement("div",{className:"row"},r.createElement("div",{className:"field half-width"},r.createElement("div",{className:"field-item"},r.createElement(o.CardExpiryElement,{id:"stripe-exp",className:"input empty",options:n.cardExpiry,onChange:a(o.CardExpiryElement)}),r.createElement("label",{htmlFor:"stripe-exp","data-tid":""},(0,i.__)("Expiration","woo-stripe-payment")),r.createElement("div",{className:"baseline"}))),r.createElement("div",{className:"field half-width cvc"},r.createElement("div",{className:"field-item"},r.createElement(o.CardCvcElement,{id:"stripe-cvv",className:"input empty",options:n.cardCvc,onChange:a(o.CardCvcElement)}),r.createElement("label",{htmlFor:"stripe-cvv","data-tid":""},(0,i.__)("CVV","woo-stripe-payment")),r.createElement("div",{className:"baseline"})))))};(0,a.registerCreditCardForm)({id:"simple",component:r.createElement(s,null),breakpoint:375})},9775:(e,t,n)=>{var r=n(9307),a=n(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n(9713)),i=n(6664),c=n(1134),s=n(9307);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.default=function(e){var t=e.getData,n=e.billing,a=e.onChange,o=e.onComplete,u={card:{}},p=(0,s.useMemo)((function(){var e;return l(l({},{value:{postalCode:null==n||null===(e=n.billingData)||void 0===e?void 0:e.postcode},hidePostalCode:(0,c.isFieldRequired)("postcode"),iconStyle:"default"}),t("cardOptions"))}),[n.billingData]);return r.createElement("div",{className:"wc-stripe-inline-form"},r.createElement(i.CardElement,{options:p,onChange:function(e){a(e),u[e.elementType]=e,o(Object.keys(u).filter((function(e){return!!u[e].complete})).length===Object.keys(u).length)}}))}},627:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),n(5773);var r=n(7205);Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===r[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}}))})),n(7354),n(6835)},4664:(e,t,n)=>{var r=n(9307),a=n(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.PaymentElementComponent=void 0;var o=a(n(1284)),i=a(n(8926)),c=a(n(3038)),s=a(n(6479)),u=a(n(9713)),l=n(9307),p=n(4465),d=n(6664),m=n(4617),f=n(2819),y=n(1134),g=n(3187),h=n(3636);function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){(0,u.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var P=(0,m.getSetting)("stripeGeneralData"),E=P.publishableKey,O=P.stripeParams,_=(0,f.cloneDeep)(O);_.hasOwnProperty("betas")&&_.betas.indexOf("link_autofill_modal_beta_1")>-1&&delete _.betas[_.betas.indexOf("link_autofill_modal_beta_1")];var S=(0,p.loadStripe)(E,_),w=(0,y.getSettings)("stripe_cc_data"),C=function(e){var t,n=e.billing,a=n.cartTotal,o=n.currency,i=b({mode:"payment"},w("elementOptions"));return i=0>=a.value?b(b({},i),{},{mode:"setup"}):b(b({},i),{},{amount:a.value,currency:null==o||null===(t=o.code)||void 0===t?void 0:t.toLowerCase()}),r.createElement(r.Fragment,null,r.createElement(d.Elements,{stripe:S,options:i},r.createElement(k,e)))};t.PaymentElementComponent=C;var k=function(e){e.onComplete;var t=(0,s.default)(e,["onComplete"]),n=(0,l.useState)(!1),a=(0,c.default)(n,2),u=a[0],p=a[1],m=w("installmentsActive"),f=((0,d.useElements)(),(0,d.useStripe)()),y=t.billing.billingData,v=t.eventRegistration,b=t.emitResponse,P=t.shouldSavePayment,E=y.email,O=(v.onPaymentProcessing,v.onCheckoutAfterProcessingWithError),_=b.responseTypes,S=b.noticeContexts,C=w("name"),k=(0,l.useCallback)((function(e){p(e.complete)}),[]),M=(0,h.useDeferredPaymentIntent)({billingData:y,eventRegistration:v,responseTypes:_,shouldSavePayment:P,noticeContexts:S,name:C}),j=M.createPaymentMethod,D=M.addPaymentMethodData;(0,h.useProcessCheckoutError)({responseTypes:_,subscriber:O,messageContext:S.PAYMENTS});var x=(0,l.useCallback)((0,i.default)(o.default.mark((function e(){var t,n,r;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.next=3,j();case 3:return null!=(r=e.sent)&&null!==(t=r.paymentMethod)&&void 0!==t&&t.id&&(n=r.paymentMethod.id),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)}))),[j]),R={defaultValues:{billingDetails:{email:E}},fields:{billingDetails:{address:"never"}},wallets:{applePay:"never",googlePay:"never"}};return r.createElement(r.Fragment,null,r.createElement(d.PaymentElement,{options:R,onChange:k}),m&&r.createElement(g.Installments,{paymentMethodName:w("name"),stripe:f,cardFormComplete:u,getPaymentMethod:x,addPaymentMethodData:D}))},M=C;t.default=M},7205:(e,t,n)=>{var r=n(9307),a=n(5318),o=a(n(1284)),i=a(n(8926)),c=a(n(3038)),s=n(9307),u=n(4613),l=n(1134),p=n(6664),d=n(3187),m=a(n(1065)),f=a(n(3329)),y=a(n(9775)),g=a(n(4664)),h=n(3636),v=(0,l.getSettings)("stripe_cc_data"),b=function(e){var t=(0,s.useState)(!1),n=(0,c.default)(t,2),a=n[0],o=n[1];if((0,s.useEffect)((function(){l.initStripe.catch((function(e){o(e)}))}),[o]),a)throw new Error(a);return v("isPaymentElement")?r.createElement(g.default,e):r.createElement(p.Elements,{stripe:l.initStripe,options:v("elementOptions")},r.createElement(P,e))},P=function(e){var t=e.getData,n=e.billing,a=e.shippingData,u=e.emitResponse,l=e.eventRegistration,m=e.activePaymentMethod,g=e.shouldSavePayment,v=(0,h.useStripeError)(),b=(0,c.default)(v,2),P=b[0],E=b[1],O=(0,s.useState)(!1),_=(0,c.default)(O,2),S=_[0],w=_[1],C=l.onPaymentProcessing,k=(0,p.useStripe)(),M=(0,p.useElements)(),j=(0,s.useCallback)((function(){var e=t("customFormActive")?p.CardNumberElement:p.CardElement;return{card:M.getElement(e)}}),[k,M]),D=(0,h.useSetupIntent)({getData:t,cartTotal:n.cartTotal,setError:E}),x=D.setupIntent,R=D.removeSetupIntent,A=(0,h.useProcessPaymentIntent)({getData:t,billing:n,shippingData:a,emitResponse:u,error:P,onPaymentProcessing:C,shouldSavePayment:g,setupIntent:x,removeSetupIntent:R,getPaymentMethodArgs:j,activePaymentMethod:m}),L=A.getCreatePaymentMethodArgs,I=A.addPaymentMethodData;(0,h.useAfterProcessingPayment)({getData:t,eventRegistration:l,responseTypes:u.responseTypes,activePaymentMethod:m,shouldSavePayment:g});var T=(0,s.useCallback)((0,i.default)(o.default.mark((function e(){var t,n,r;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.next=3,k.createPaymentMethod(L());case 3:return null!=(r=e.sent)&&null!==(t=r.paymentMethod)&&void 0!==t&&t.id&&(n=r.paymentMethod.id),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)}))),[k,L]),N=t("customFormActive")?f.default:y.default;return r.createElement("div",{className:"wc-stripe-card-container"},r.createElement(N,{getData:t,billing:n,onChange:function(e){e.error?E(e.error):E(!1)},onComplete:w}),t("installmentsActive")&&r.createElement(d.Installments,{paymentMethodName:t("name"),cardFormComplete:S,addPaymentMethodData:I,getPaymentMethod:T}))};(0,u.registerPaymentMethod)({name:v("name"),label:r.createElement(d.PaymentMethodLabel,{title:v("title"),paymentMethod:v("name"),icons:v("icons")}),ariaLabel:"Credit Cards",canMakePayment:function(){return l.initStripe},content:r.createElement(d.PaymentMethod,{content:b,getData:v}),savedTokenComponent:r.createElement(m.default,{getData:v,method:v("isPaymentElement")?"confirmCardPayment":"handleCardAction"}),edit:r.createElement(d.PaymentMethod,{content:b,getData:v}),supports:{showSavedCards:v("showSavedCards"),showSaveOption:!0,features:v("features")}})},7082:(e,t,n)=>{var r=n(9307),a=n(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n(4575)),i=a(n(3913)),c=a(n(2205)),s=a(n(8585)),u=a(n(9754));var l=function(e){(0,c.default)(l,e);var t,n,a=(t=l,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,u.default)(t);if(n){var a=(0,u.default)(this).constructor;e=Reflect.construct(r,arguments,a)}else e=r.apply(this,arguments);return(0,s.default)(this,e)});function l(e){var t;return(0,o.default)(this,l),(t=a.call(this,e)).state={hasError:!1,error:null,errorInfo:null},t}return(0,i.default)(l,[{key:"componentDidCatch",value:function(e,t){this.setState({hasError:!0,error:e,errorInfo:t})}},{key:"render",value:function(){return this.state.hasError?r.createElement(r.Fragment,null,this.state.error&&r.createElement("div",{className:"wc-stripe-block-error"},this.state.error.toString()),this.state.errorInfo&&r.createElement("div",{className:"wc-stripe-block-error"},this.state.errorInfo.componentStack)):this.props.children}}]),l}(n(9307).Component);t.default=l},5212:(e,t,n)=>{var r=n(9307),a=n(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n(3038)),i=a(n(6479)),c=n(9307),s=n(5516),u=n(3636),l=(0,n(1134).getSettings)("stripeGeneralData")().publishableKey;t.default=function(e){var t=e.getData,n=e.setErrorMessage,a=e.billing,p=e.shippingData,d=e.canMakePayment,m=e.checkoutStatus,f=e.eventRegistration,y=e.activePaymentMethod,g=e.onClick,h=e.onClose,v=(0,i.default)(e,["getData","setErrorMessage","billing","shippingData","canMakePayment","checkoutStatus","eventRegistration","activePaymentMethod","onClick","onClose"]),b={merchantId:t("merchantId"),merchantName:t("merchantName")},P=(0,u.useStripeError)(),E=(0,o.default)(P,2),O=E[0],_=(E[1],(0,c.useRef)()),S=v.onSubmit,w=v.emitResponse,C=f.onPaymentProcessing,k=(0,u.useExportedValues)(),M="long"===t("buttonStyle").buttonType?390:375,j=(0,u.useProcessPaymentIntent)({getData:t,billing:a,shippingData:p,onPaymentProcessing:C,emitResponse:w,error:O,exportedValues:k,onSubmit:S,checkoutStatus:m,activePaymentMethod:y}).setPaymentMethod,D=(0,s.usePaymentRequest)({getData:t,publishableKey:l,merchantInfo:b,billing:a,shippingData:p}),x=(0,s.usePaymentsClient)({merchantInfo:b,buildPaymentRequest:D,billing:a,shippingData:p,eventRegistration:f,canMakePayment:d,setErrorMessage:n,onSubmit:S,setPaymentMethod:j,exportedValues:k,onClick:g,onClose:h,getData:t}),R=x.button,A=x.removeButton;return(0,u.useAfterProcessingPayment)({getData:t,eventRegistration:f,responseTypes:w.responseTypes,activePaymentMethod:y}),(0,u.useExpressBreakpointWidth)({payment_method:t("name"),width:M}),(0,c.useEffect)((function(){R&&(A(_.current),_.current.append(R))}),[R]),r.createElement("div",{className:"wc-stripe-gpay-button-container",ref:_})}},3097:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BASE_PAYMENT_REQUEST=t.BASE_PAYMENT_METHOD=void 0,t.BASE_PAYMENT_METHOD={type:"CARD",parameters:{allowedAuthMethods:["PAN_ONLY"],allowedCardNetworks:["AMEX","DISCOVER","INTERAC","JCB","MASTERCARD","VISA"],assuranceDetailsRequired:!0}},t.BASE_PAYMENT_REQUEST={apiVersion:2,apiVersionMinor:0}},5516:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});var r=n(1674);Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===r[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}}))}));var a=n(1735);Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===a[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}}))}));var o=n(9808);Object.keys(o).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===o[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}}))}))},9808:(e,t,n)=>{var r=n(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.useErrorMessage=void 0;var a=r(n(3038)),o=n(9307);t.useErrorMessage=function(){var e=(0,o.useState)(!1),t=(0,a.default)(e,2);return{errorMessage:t[0],setErrorMessage:t[1]}}},1735:(e,t,n)=>{var r=n(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.usePaymentRequest=void 0;var a=r(n(319)),o=r(n(9713)),i=n(9307),c=n(3097),s=n(1134),u=n(8664);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.usePaymentRequest=function(e){var t=e.getData,n=e.publishableKey,r=e.merchantInfo,o=e.billing,l=e.shippingData,d=t(),m=d.processingCountry,f=d.totalPriceLabel,y=(0,i.useRef)({shippingData:l,billing:o});(0,i.useEffect)((function(){y.current={shippingData:l,billing:o}}));var g=(0,i.useCallback)((function(){var e=y.current,t=e.billing,o=e.shippingData,i=t.billingData,l=o.shippingRates,d=p(p({},{emailRequired:(0,s.isEmpty)(i.email),merchantInfo:r,allowedPaymentMethods:[p(p({},{type:"CARD",tokenizationSpecification:{type:"PAYMENT_GATEWAY",parameters:{gateway:"stripe","stripe:version":"2018-10-31","stripe:publishableKey":n}}}),c.BASE_PAYMENT_METHOD)],shippingAddressRequired:o.needsShipping,transactionInfo:(0,u.getTransactionInfo)({billing:t,processingCountry:m,totalPriceLabel:f}),callbackIntents:["PAYMENT_AUTHORIZATION"]}),c.BASE_PAYMENT_REQUEST);if(d.allowedPaymentMethods[0].parameters.billingAddressRequired=!0,d.allowedPaymentMethods[0].parameters.billingAddressParameters={format:"FULL",phoneNumberRequired:(0,s.isFieldRequired)(o.needsShipping?"shipping-phone":"phone",i.country)&&(0,s.isEmpty)(i.phone)},d.shippingAddressRequired){d.callbackIntents=[].concat((0,a.default)(d.callbackIntents),["SHIPPING_ADDRESS","SHIPPING_OPTION"]),d.shippingOptionRequired=!0;var g=(0,u.getShippingOptionParameters)(l);g.shippingOptions.length>0&&(d=p(p({},d),{},{shippingOptionParameters:g}))}return d}),[]);return g}},1674:(e,t,n)=>{var r=n(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.usePaymentsClient=void 0;var a=r(n(319)),o=r(n(1284)),i=r(n(8926)),c=r(n(9713)),s=r(n(3038)),u=n(9307),l=r(n(6989)),p=n(1134),d=n(6664),m=n(8664);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){(0,c.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.usePaymentsClient=function(e){var t=e.merchantInfo,n=e.buildPaymentRequest,r=e.billing,c=e.shippingData,f=(e.eventRegistration,e.canMakePayment),g=e.setErrorMessage,h=e.setPaymentMethod,v=e.exportedValues,b=e.onClick,P=e.onClose,E=e.getData,O=E().environment,_=(0,u.useState)(),S=(0,s.default)(_,2),w=S[0],C=S[1],k=(0,u.useState)(null),M=(0,s.default)(k,2),j=M[0],D=M[1],x=(0,u.useRef)(r),R=(0,u.useRef)(c),A=c.needsShipping,L=(0,d.useStripe)();(0,u.useEffect)((function(){x.current=r,R.current=c}));var I=(0,u.useCallback)((function(e){var t,n,r,a;null!=e&&null!==(t=e.paymentMethodData)&&void 0!==t&&null!==(n=t.info)&&void 0!==n&&n.billingAddress&&(r=e.paymentMethodData.info.billingAddress,v.billingData=x.current.billingData=(0,m.toCartAddress)(r,{email:e.email,phoneNumber:r.phoneNumber})),null!=e&&e.shippingAddress&&(v.shippingAddress=(0,m.toCartAddress)(y(y({},e.shippingAddress),{},{phoneNumber:null===(a=r)||void 0===a?void 0:a.phoneNumber})))}),[]),T=(0,u.useCallback)((function(e){for(;e.firstChild;)e.removeChild(e.firstChild)}),[j]),N=(0,u.useCallback)((0,i.default)(o.default.mark((function e(){var t,r,a;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(),e.prev=1,e.next=4,w.loadPaymentData(n());case 4:return t=e.sent,I(t),r=JSON.parse(t.paymentMethodData.tokenizationData.token),e.next=9,L.createPaymentMethod({type:"card",card:{token:r.id},billing_details:(0,p.getBillingDetailsFromAddress)(x.current.billingData)});case 9:if(!(a=e.sent).error){e.next=12;break}throw new p.StripeError(a.error);case 12:h(a.paymentMethod.id),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(1),"CANCELED"===(null===e.t0||void 0===e.t0?void 0:e.t0.statusCode)?P():(console.log((0,p.getErrorMessage)(e.t0)),g((0,p.getErrorMessage)(e.t0)));case 18:case"end":return e.stop()}}),e,null,[[1,15]])}))),[L,w,b,n]),B=(0,u.useCallback)((0,i.default)(o.default.mark((function e(){var t,n,r;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!w||!L){e.next=7;break}return e.next=4,f;case 4:t=w.createButton(y({onClick:N},E("buttonStyle"))),"rect"===E("buttonShape")&&(null===(n=t.querySelector("button"))||void 0===n||null===(r=n.classList)||void 0===r||r.remove("new_style")),D(t);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])}))),[L,w,N]),F=(0,u.useMemo)((function(){var e={environment:O,merchantInfo:t,paymentDataCallbacks:{onPaymentAuthorized:function(){return Promise.resolve({transactionState:"SUCCESS"})}}};return A&&(e.paymentDataCallbacks.onPaymentDataChanged=function(e){var t=R.current,n=e.shippingAddress,r=e.shippingOptionData,o=(0,p.getSelectedShippingOption)(r.id),i=["default","shipping_option_unselected"].includes(r.id)?null:r.id;return new Promise((function(e,r){(0,l.default)({method:"POST",url:(0,p.getRoute)("payment/data"),data:{address:(0,m.toCartAddress)(n),shipping_method:i,page_id:null}}).then((function(t){t.code?e(t.data.data):e(t.data.paymentRequestUpdate)})).catch((function(t){e(t.data)})).finally((function(){i&&"shipping_option_unselected"!==i&&t.setSelectedRates.apply(t,(0,a.default)(o))}))}))}),e}),[A]);return(0,u.useEffect)((function(){C(new google.payments.api.PaymentsClient(F))}),[F]),(0,u.useEffect)((function(){B()}),[B]),{button:j,removeButton:T}}},5341:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),n(9509);var r=n(9031);Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===r[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}}))}))},9031:(e,t,n)=>{var r=n(9307),a=n(5318),o=a(n(7154)),i=a(n(6479)),c=a(n(9713)),s=n(4613),u=n(1134),l=n(5516),p=a(n(5212)),d=n(3097),m=a(n(1417)),f=n(6664);function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){(0,c.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var h,v,b=(0,u.getSettings)("stripe_googlepay_data"),P=(h=new m.default.payments.api.PaymentsClient({environment:b("environment"),merchantInfo:{merchantId:b("merchantId"),merchantName:b("merchantName")}}),v=g(g({},d.BASE_PAYMENT_REQUEST),{},{allowedPaymentMethods:[d.BASE_PAYMENT_METHOD]}),h.isReadyToPay(v).then((function(){return!0})).catch((function(e){return console.log(e),!1}))),E=function(e){var t=e.getData,n=e.components,a=(0,i.default)(e,["getData","components"]),c=n.ValidationInputError,s=(0,l.useErrorMessage)(),d=s.errorMessage,m=s.setErrorMessage;return r.createElement("div",{className:"wc-stripe-gpay-container"},r.createElement(f.Elements,{stripe:u.initStripe},r.createElement(p.default,(0,o.default)({getData:t,canMakePayment:P,setErrorMessage:m},a)),d&&r.createElement(c,{errorMessage:d})))},O=function(e){var t=e.getData,n=((0,i.default)(e,["getData"]),t("buttonStyle").buttonType),a=t("editorIcons").long;return r.createElement("div",{className:"gpay-block-editor ".concat(n)},r.createElement("img",{src:a}))};(0,s.registerExpressPaymentMethod)({name:b("name"),canMakePayment:function(){return b("isAdmin")?!(0,u.isCartPage)()||b("cartCheckoutEnabled"):!((0,u.isCartPage)()&&!b("cartCheckoutEnabled"))&&u.initStripe.then((function(e){return e.error?e:P}))},content:r.createElement(E,{getData:b}),edit:r.createElement(O,{getData:b}),supports:{showSavedCards:b("showSavedCards"),showSaveOption:b("showSaveOption"),features:b("features")}})},8664:(e,t,n)=>{var r=n(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.toCartAddress=t.getTransactionInfo=t.getShippingOptions=t.getShippingOptionParameters=t.getPaymentRequestUpdate=void 0;var a=r(n(319)),o=n(1134),i=((0,n(4617).getSetting)("stripeGeneralData"),function(e){var t=e.billing,n=e.processingCountry,r=e.totalPriceLabel,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ESTIMATED",i=t.cartTotal,s=t.cartTotalItems,u=t.currency;return{countryCode:n,currencyCode:u.code,totalPriceStatus:a,totalPrice:(0,o.removeNumberPrecision)(i.value,u.minorUnit).toString(),displayItems:c(s,u.minorUnit),totalPriceLabel:r}});t.getTransactionInfo=i,t.getPaymentRequestUpdate=function(e){var t=e.billing,n=e.shippingData,r=e.processingCountry,a=e.totalPriceLabel,o=n.needsShipping,c=n.shippingRates,u={newTransactionInfo:i({billing:t,processingCountry:r,totalPriceLabel:a},"FINAL")};return o&&(u.newShippingOptionParameters=s(c)),u};var c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=[],r=["total_tax","total_shipping"];return e.forEach((function(e){(0<e.value||e.key&&r.includes(e.key))&&n.push({label:e.label,type:"LINE_ITEM",price:(0,o.removeNumberPrecision)(e.value,t).toString()})})),n},s=function(e){var t=u(e),n=t.map((function(e){return e.id})).slice(0,1).shift();return e.forEach((function(e,t){e.shipping_rates.forEach((function(e){e.selected&&(n=(0,o.getShippingOptionId)(t,e.rate_id))}))})),{shippingOptions:t,defaultSelectedOptionId:n}};t.getShippingOptionParameters=s;var u=function(e){var t=[];return e.forEach((function(e,n){var r=e.shipping_rates.map((function(e){var t=document.createElement("textarea");t.innerHTML=e.name;var r=(0,o.formatPrice)(e.price,e.currency_code);return{id:(0,o.getShippingOptionId)(n,e.rate_id),label:t.value,description:"".concat(r)}}));t=[].concat((0,a.default)(t),(0,a.default)(r))})),t};t.getShippingOptions=u;var l=(0,o.toCartAddress)({name:function(e,t){return e.first_name=t.split(" ").slice(0,-1).join(" "),e.last_name=t.split(" ").pop(),e},countryCode:"country",address1:"address_1",address2:"address_2",locality:"city",administrativeArea:"state",postalCode:"postcode",email:"email",phoneNumber:"phone"});t.toCartAddress=l},3636:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});var r=n(4332);Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===r[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}}))}));var a=n(1261);Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===a[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}}))}));var o=n(6107);Object.keys(o).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===o[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}}))}));var i=n(2715);Object.keys(i).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===i[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}}))}));var c=n(2343);Object.keys(c).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===c[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return c[e]}}))}));var s=n(1500);Object.keys(s).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===s[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return s[e]}}))}));var u=n(6095);Object.keys(u).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===u[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return u[e]}}))}));var l=n(5554);Object.keys(l).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===l[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return l[e]}}))}));var p=n(3893);Object.keys(p).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===p[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return p[e]}}))}));var d=n(6722);Object.keys(d).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===d[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return d[e]}}))}))},1261:(e,t,n)=>{var r=n(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.useAfterProcessingPayment=void 0;var a=r(n(1284)),o=r(n(8926)),i=n(9307),c=n(6664),s=n(1134),u=n(3893);t.useAfterProcessingPayment=function(e){var t=e.getData,n=e.eventRegistration,r=e.responseTypes,l=e.activePaymentMethod,p=e.shouldSavePayment,d=void 0!==p&&p,m=e.messageContext,f=void 0===m?null:m,y=(0,c.useStripe)(),g=n.onCheckoutAfterProcessingWithSuccess,h=n.onCheckoutAfterProcessingWithError;(0,u.useProcessCheckoutError)({responseTypes:r,subscriber:h,messageContext:f}),(0,i.useEffect)((function(){var e=g(function(){var e=(0,o.default)(a.default.mark((function e(n){var o;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=n.redirectUrl,t("name")!==l){e.next=5;break}return e.next=4,(0,s.handleCardAction)({redirectUrl:o,responseTypes:r,name:l,savePaymentMethod:d});case 4:return e.abrupt("return",e.sent);case 5:return e.abrupt("return",null);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());return function(){return e()}}),[y,r,g,l,d])}},5554:(e,t,n)=>{var r=n(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.useExpressBreakpointWidth=t.useBreakpointWidth=void 0;var a=r(n(3038)),o=n(9307),i=n(1134),c=function(e){var t=e.name,n=e.width,r=e.node,c=e.className,s=(0,o.useState)(window.innerWidth),u=(0,a.default)(s,2),l=u[0],p=u[1],d=(0,o.useCallback)((function(e){var t=(0,i.getFromCache)(e);return t?parseInt(t):0}),[]),m=(0,o.useCallback)((function(e,t){return(0,i.storeInCache)(e,t)}),[]);(0,o.useEffect)((function(){var e="function"==typeof r?r():r;if(e){var a=d(t);(!a||n>a)&&m(t,n),e.clientWidth<n?e.classList.add(c):e.clientWidth>a&&e.classList.remove(c)}}),[l,r]),(0,o.useEffect)((function(){var e=function(){return p(window.innerWidth)};return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}))};t.useBreakpointWidth=c,t.useExpressBreakpointWidth=function(e){var t=e.payment_method,n=e.width,r=(0,o.useCallback)((function(){var e=document.getElementById("express-payment-method-".concat(t));return e?e.parentNode:null}),[]);c({name:"expressMaxWidth",width:n,node:r,className:"wc-stripe-express__sm"})}},6722:(e,t,n)=>{var r=n(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.useDeferredPaymentIntent=void 0;var a=r(n(1284)),o=r(n(8926)),i=r(n(9713)),c=n(9307),s=n(6664),u=n(1134);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,i.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.useDeferredPaymentIntent=function(e){var t=e.billingData,n=e.eventRegistration,r=e.responseTypes,l=e.name,d=e.shouldSavePayment,m=e.noticeContexts,f=n.onPaymentProcessing,y=n.onCheckoutAfterProcessingWithSuccess,g=(0,c.useRef)({billingData:t}),h=(0,c.useRef)({}),v=(0,s.useStripe)(),b=(0,s.useElements)(),P=(0,c.useCallback)((function(e,t){var n;return{meta:{paymentMethodData:p((n={},(0,i.default)(n,"".concat(l,"_token_key"),e),(0,i.default)(n,"".concat(l,"_save_source_key"),t),n),h.current)}}}),[]),E=(0,c.useCallback)((function(e){h.current=p(p({},h.current),e)}),[]),O=(0,c.useCallback)((0,o.default)(a.default.mark((function e(){var t;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=g.current.billingData,e.next=3,b.submit();case 3:return e.next=5,v.createPaymentMethod({elements:b,params:{billing_details:(0,u.getBillingDetailsFromAddress)(t)}});case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)}))),[v,b]),_=(0,c.useCallback)((0,o.default)(a.default.mark((function e(){var t;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=g.current.billingData,e.next=3,v.confirmPayment({elements:b,confirmParams:{payment_method_data:{billing_details:(0,u.getBillingDetailsFromAddress)(t)}},redirect:"if_required"});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),[v,b]);return(0,c.useEffect)((function(){g.current.billingData=t})),(0,c.useEffect)((function(){var e=f((0,o.default)(a.default.mark((function e(){var t,n;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O();case 3:if(!(t=e.sent).error){e.next=6;break}throw new u.StripeError(t.error);case 6:return n=t.paymentMethod.id,g.current.paymentMethod=n,e.abrupt("return",(0,u.ensureSuccessResponse)(r,P(n,d)));case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",(0,u.ensureErrorResponse)(r,e.t0,{messageContext:m.PAYMENTS}));case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))));return function(){return e()}}),[f,O,_,d]),(0,c.useEffect)((function(){var e=y(function(){var e=(0,o.default)(a.default.mark((function e(t){var n;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.redirectUrl,e.next=3,(0,u.handleCardAction)({redirectUrl:n,responseTypes:r,name:l,savePaymentMethod:d,data:(0,i.default)({},"".concat(l,"_token_key"),g.current.paymentMethod)});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());return function(){return e()}}),[y,_,d,l]),{createPaymentMethod:O,addPaymentMethodData:E}}},2343:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.useExportedValues=void 0;var r=n(9307);t.useExportedValues=function(){return(0,r.useRef)({}).current}},6095:(e,t,n)=>{var r=n(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.usePaymentEvents=void 0;var a=r(n(9713)),o=r(n(3038)),i=n(9307),c=n(1134);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,a.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.usePaymentEvents=function(e){var t=e.billing,n=e.shippingData,r=e.eventRegistration,s=r.onShippingRateSuccess,l=r.onShippingRateFail,p=r.onShippingRateSelectSuccess,d=(0,i.useRef)(t),m=(0,i.useRef)(n),f=(0,i.useState)(null),y=(0,o.default)(f,2),g=y[0],h=y[1],v=(0,i.useState)({onShippingChanged:!1}),b=(0,o.default)(v,2),P=b[0],E=b[1],O=(0,i.useCallback)((function(e,t){arguments.length>2&&void 0!==arguments[2]&&arguments[2]?h((0,a.default)({},e,t)):E(u(u({},P),{},(0,a.default)({},e,t)))}),[P,E]),_=(0,i.useCallback)((function(e){P[e]&&(delete P[e],E(P))}),[P]),S=(0,i.useCallback)((function(){var e=m.current,t=d.current;if(P.onShippingChanged&&!e.isSelectingRate&&!e.shippingRatesLoading){var n=P.onShippingChanged,r=!0;(0,c.hasShippingRates)(e.shippingRates)||(r=!1),n(r,{billing:t,shipping:e}),_("onShippingChanged")}}),[P,_]);return(0,i.useEffect)((function(){d.current=t,m.current=n})),(0,i.useEffect)((function(){g&&g.onShippingChanged&&(g.onShippingChanged(!0,{billing:d.current,shipping:m.current}),h(null))}),[g]),(0,i.useEffect)((function(){var e=s(S),t=p(S),n=l((function(e){e.hasInvalidAddress,e.hasError,P.onShippingChanged&&((0,P.onShippingChanged)(!1),_("onShippingChanged"))}));return function(){e(),n(),t()}}),[P,s,l,p]),{addPaymentEvent:O,removePaymentEvent:_}}},1500:(e,t,n)=>{var r=n(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.usePaymentRequest=void 0;var a=r(n(319)),o=r(n(9713)),i=r(n(3038)),c=n(9307),s=n(1134),u=(r(n(9127)),r(n(6989)));function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d=(0,s.toCartAddress)();t.usePaymentRequest=function(e){var t=e.getData,n=e.onClose,r=e.stripe,o=e.billing,l=e.shippingData,m=e.setPaymentMethod,f=e.exportedValues,y=e.canPay,g=(l.shippingAddress,l.needsShipping),h=l.shippingRates,v=(o.billingData,o.cartTotalItems),b=o.currency,P=o.cartTotal,E=(0,c.useState)(null),O=(0,i.default)(E,2),_=O[0],S=O[1],w=(0,c.useRef)({}),C=(0,c.useRef)(l),k=(0,c.useRef)(o);(0,c.useEffect)((function(){C.current=l,k.current=o}),[l,o]),(0,c.useEffect)((function(){if(r){var e={country:t("countryCode"),currency:null==b?void 0:b.code.toLowerCase(),total:{amount:P.value,label:P.label,pending:!0},requestPayerName:!0,requestPayerEmail:(0,s.isFieldRequired)("email"),requestPayerPhone:(0,s.isFieldRequired)(g?"shipping-phone":"phone"),requestShipping:g,displayItems:(0,s.getDisplayItems)(v,b)};e.requestShipping&&(e.shippingOptions=(0,s.getShippingOptions)(h)),w.current=e;var n=r.paymentRequest(w.current);n.canMakePayment().then((function(e){y(e)?S(n):S(null)}))}}),[r,P.value,g,h,v,b.code]);var M=(0,c.useCallback)((function(e){var n=C.current,r=e.shippingAddress,a=d(r);(0,u.default)({method:"POST",url:(0,s.getRoute)("shipping-address"),data:{address:a,payment_method:t("name"),page_id:"checkout"}}).then((function(t){e.updateWith(t.data.newData),n.setShippingAddress(p(p({},n.shippingAddress),a))})).catch((function(e){console.log(e)}))}),[]),j=(0,c.useCallback)((function(e){var n=e.shippingOption,r=C.current;(0,u.default)({method:"POST",url:(0,s.getRoute)("shipping-method"),data:{shipping_method:n.id,payment_method:t("name"),page_id:null}}).then((function(t){e.updateWith(t.data.newData),r.setSelectedRates.apply(r,(0,a.default)((0,s.getSelectedShippingOption)(n.id)))})).catch((function(e){console.log(e)}))}),[]),D=(0,c.useCallback)((function(e){var t=e.paymentMethod,n=e.payerName,r=void 0===n?null:n,a=e.payerEmail,o=void 0===a?null:a,i=e.payerPhone,c=void 0===i?null:i,s={payerName:r,payerEmail:o,payerPhone:c};null!=t&&t.billing_details.address&&(s=d(t.billing_details.address,s)),f.billingData=s,e.shippingAddress&&(f.shippingAddress=d(e.shippingAddress,{payerPhone:c})),m(t.id),e.complete("success")}),[]);return(0,c.useEffect)((function(){_&&(w.current.requestShipping&&(_.on("shippingaddresschange",M),_.on("shippingoptionchange",j)),_.on("cancel",n),_.on("paymentmethod",D))}),[n,_,M,D]),{paymentRequest:_}}},3893:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.useProcessCheckoutError=void 0;var r=n(9307);t.useProcessCheckoutError=function(e){var t=e.responseTypes,n=e.subscriber,a=e.messageContext,o=void 0===a?null:a;(0,r.useEffect)((function(){var e=n((function(e){var n;return null!=e&&null!==(n=e.processingResponse.paymentDetails)&&void 0!==n&&n.stripeErrorMessage?(console.log(e.processingResponse.paymentDetails.stripeErrorMessage),{type:t.ERROR,message:e.processingResponse.paymentDetails.stripeErrorMessage,messageContext:o}):null}));return function(){return e()}}),[t,n])}},4332:(e,t,n)=>{var r=n(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.useProcessPaymentIntent=void 0;var a=r(n(1284)),o=r(n(8926)),i=r(n(9713)),c=r(n(3038)),s=n(9307),u=n(6664),l=n(1134);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){(0,i.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var m=(0,l.getSettings)("stripeGeneralData");t.useProcessPaymentIntent=function(e){var t=e.getData,n=e.billing,r=e.shippingData,p=e.onPaymentProcessing,f=e.emitResponse,y=e.error,g=e.onSubmit,h=e.activePaymentMethod,v=e.paymentType,b=void 0===v?"card":v,P=e.setupIntent,E=void 0===P?null:P,O=e.removeSetupIntent,_=void 0===O?null:O,S=e.shouldSavePayment,w=void 0!==S&&S,C=e.exportedValues,k=void 0===C?{}:C,M=e.getPaymentMethodArgs,j=void 0===M?function(){return{}}:M,D=n.billingData,x=r.shippingAddress,R=f.responseTypes,A=(0,s.useState)(null),L=(0,c.default)(A,2),I=L[0],T=L[1],N=(0,u.useStripe)(),B=(0,s.useRef)(j),F=(0,s.useRef)({});(0,s.useEffect)((function(){B.current=j}),[j]);var q=(0,s.useCallback)((function(e){F.current=d(d({},F.current),e)}),[]),U=(0,s.useCallback)((function(){return d(d({},{type:b,billing_details:(0,l.getBillingDetailsFromAddress)(null!=k&&k.billingData?k.billingData:D)}),B.current())}),[D,b,j]),X=(0,s.useCallback)((function(e,n){var r,a={meta:{paymentMethodData:d((r={},(0,i.default)(r,"".concat(t("name"),"_token_key"),e),(0,i.default)(r,"".concat(t("name"),"_save_source_key"),n),r),F.current)}},o=m("isOlderVersion");return null!=k&&k.billingData&&(o?a.meta.billingData=d(d({},l.DEFAULT_BILLING_ADDRESS),k.billingData):a.meta.billingAddress=d(d({},l.DEFAULT_BILLING_ADDRESS),k.billingData)),null!=k&&k.shippingAddress&&(o?a.meta.shippingData={address:k.shippingAddress}:a.meta.shippingAddress=d(d({},l.DEFAULT_SHIPPING_ADDRESS),k.shippingAddress)),a}),[D,x]);return(0,s.useEffect)((function(){I&&"string"==typeof I&&g()}),[I,g]),(0,s.useEffect)((function(){var e=p((0,o.default)(a.default.mark((function e(){var n,r;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(h===t("name")){e.next=2;break}return e.abrupt("return",null);case 2:if(n=null,r=null,e.prev=3,!y){e.next=6;break}throw new l.StripeError(y);case 6:if(!E){e.next=16;break}return e.next=9,N.confirmCardSetup(E.client_secret,{payment_method:U()});case 9:if(!(n=e.sent).error){e.next=12;break}throw new l.StripeError(n.error);case 12:r=n.setupIntent.payment_method,_(),e.next=26;break;case 16:if(!I){e.next=20;break}r=I,e.next=26;break;case 20:return e.next=22,N.createPaymentMethod(U());case 22:if(!(n=e.sent).error){e.next=25;break}throw new l.StripeError(n.error);case 25:r=n.paymentMethod.id;case 26:return e.abrupt("return",(0,l.ensureSuccessResponse)(R,X(r,w)));case 29:return e.prev=29,e.t0=e.catch(3),console.log(e.t0),T(null),e.abrupt("return",(0,l.ensureErrorResponse)(R,e.t0.error));case 34:case"end":return e.stop()}}),e,null,[[3,29]])}))));return function(){return e()}}),[I,D,p,N,E,h,w]),{setPaymentMethod:T,getCreatePaymentMethodArgs:U,addPaymentMethodData:q}}},6107:(e,t,n)=>{var r=n(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.useSetupIntent=void 0;var a=r(n(1284)),o=r(n(8926)),i=r(n(3038)),c=n(9307),s=r(n(6989)),u=n(1134);t.useSetupIntent=function(e){var t=e.cartTotal,n=e.setError,r=(0,c.useState)((0,u.getFromCache)("setupIntent")),l=(0,i.default)(r,2),p=l[0],d=l[1];(0,c.useEffect)((function(){var e=function(){var e=(0,o.default)(a.default.mark((function e(){var t;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!p){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,(0,s.default)({url:(0,u.getRoute)("create/setup_intent"),method:"POST"});case 4:(t=e.sent).code?n(t.message):((0,u.storeInCache)("setupIntent",t.intent),d(t.intent));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,u.cartContainsPreOrder)()||(0,u.cartContainsSubscription)()&&0==t.value?p||e():d(null)}),[t.value]);var m=(0,c.useCallback)((function(){(0,u.deleteFromCache)("setupIntent")}),[t.value]);return{setupIntent:p,removeSetupIntent:m}}},2715:(e,t,n)=>{var r=n(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.useStripeError=void 0;var a=r(n(3038)),o=n(9307);t.useStripeError=function(){var e=(0,o.useState)(!1),t=(0,a.default)(e,2);return[t[0],t[1]]}},318:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});var r=n(9874);Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===r[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}}))}));var a=n(3985);Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===a[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}}))}))},3985:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.useLinkIcon=void 0;var r=n(9307);t.useLinkIcon=function(e){var t=e.enabled,n=(e.email,e.icon);(0,r.useEffect)((function(){if(t){var e=document.getElementById("email");if(e&&!e.classList.contains("stripe-link-icon-container")){a(".wc-stripe-link-icon"),e.classList.add("stripe-link-icon-container");var r=document.createElement("template");r.innerHTML=n,e.parentElement.append(r.content.firstChild)}}}))};var a=function(e){var t=document.querySelector(e);t&&t.remove()}},9874:(e,t,n)=>{var r=n(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.useLink=void 0;var a=r(n(1284)),o=r(n(9713)),i=r(n(8926)),c=r(n(3038)),s=r(n(6479)),u=n(9307),l=n(6664),p=n(4617),d=n(1134);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var y=(0,d.getSettings)("stripeGeneralData"),g=(0,p.getSetting)("stripe_link_checkout_data"),h=(0,d.toCartAddress)();t.useLink=function(e){var t=e.email,n=e.eventRegistration,r=e.onClick,o=e.onSubmit,p=e.activePaymentMethod,m=e.responseTypes,v=((0,s.default)(e,["email","eventRegistration","onClick","onSubmit","activePaymentMethod","responseTypes"]),(0,u.useState)()),b=(0,c.default)(v,2),P=b[0],E=b[1],O=(0,l.useStripe)(),_=(0,l.useElements)(),S=(0,u.useRef)({}),w=(0,u.useRef)(),C=n.onPaymentProcessing;return(0,u.useEffect)((function(){var e=S.current.oldEmail,n=void 0===e?null:e;n||(n=t),S.current={onClick:r,onSubmit:o,email:t,oldEmail:n}}),[r,o,t]),(0,u.useEffect)((function(){O&&_&&!P&&E(null==O?void 0:O.linkAutofillModal(_))}),[O,_,P]),(0,u.useEffect)((function(){if(P&&g.launchLink){var e=S.current.email;P.launch({email:e})}}),[P]),(0,u.useEffect)((function(){var e=S.current.oldEmail;P&&e!==t&&P.launch({email:t})}),[P,t]),(0,u.useEffect)((function(){P&&(P.on("autofill",(function(e){w.current=e,S.current.onSubmit()})),P.on("authenticated",(function(e){S.current.onClick()})))}),[P]),(0,u.useEffect)((function(){var e=C((0,i.default)(a.default.mark((function e(){var t,n,r,o,i,c,s,u,l,g,v;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("stripe_link_checkout"===p){e.next=2;break}return e.abrupt("return",null);case 2:return t={meta:{}},n=w.current.value,r=n.shippingAddress,o=void 0===r?null:r,i=n.billingAddress,c=void 0===i?null:i,s=y("isOlderVersion"),c&&(l=h(f(f({},c.address),{},{recipient:c.name})),u=(0,d.getBillingDetailsFromAddress)(l),s?t.meta.billingData=l:t.meta.billingAddress=f(f(f({},d.DEFAULT_BILLING_ADDRESS),l),{},{email:S.current.email})),o&&(g=h(f(f({},o.address),{},{recipient:o.name})),s?t.meta.shippingData={address:g}:t.meta.shippingAddress=f(f({},d.DEFAULT_SHIPPING_ADDRESS),g)),e.prev=7,e.next=10,_.submit();case 10:return e.next=12,O.createPaymentMethod({elements:_,params:{billing_details:u}});case 12:if(!(v=e.sent).error){e.next=15;break}throw v.error;case 15:return t.meta.paymentMethodData={stripe_cc_token_key:v.paymentMethod.id,stripe_cc_save_source_key:!1},e.abrupt("return",(0,d.ensureSuccessResponse)(m,t));case 19:return e.prev=19,e.t0=e.catch(7),console.log(e.t0),e.abrupt("return",(0,d.ensureErrorResponse)(m,e.t0));case 23:case"end":return e.stop()}}),e,null,[[7,19]])}))));return function(){return e()}}),[C,O,_,p]),P}},3474:(e,t,n)=>{var r=n(9307),a=n(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.LinkComponent=void 0;var o=a(n(6479)),i=(n(9307),n(6664)),c=n(4613),s=n(318),u=n(1134),l=(0,u.getSettings)("stripe_link_checkout_data"),p=function(e){var t,n=e.billing,a=n.cartTotal,o=n.currency,c={mode:"payment",paymentMethodCreation:"manual",amount:a.value,currency:null==o||null===(t=o.code)||void 0===t?void 0:t.toLowerCase(),payment_method_types:["card","link"]};return 0===a.value&&(c={mode:"setup"}),r.createElement(i.Elements,{stripe:u.initStripe,options:c},r.createElement(d,e))};t.LinkComponent=p;var d=function(e){var t=e.billing,n=(e.shipping,e.eventRegistration),a=e.onClick,c=e.onSubmit,u=e.activePaymentMethod,p=e.emitResponse,d=((0,o.default)(e,["billing","shipping","eventRegistration","onClick","onSubmit","activePaymentMethod","emitResponse"]),t.billingData),m=p.responseTypes,f=d.email,y=(l("linkIconEnabled"),l("linkIcon"));return(0,s.useLink)({email:f,eventRegistration:n,onClick:a,onSubmit:c,activePaymentMethod:u,responseTypes:m}),(0,s.useLinkIcon)({enabled:y,email:f,icon:y}),r.createElement("div",{style:{display:"none"}},r.createElement(i.PaymentElement,{options:{fields:{billingDetails:{address:"never"}},wallets:{applePay:"never",googlePay:"never"}}}))};(0,c.registerExpressPaymentMethod)({name:l("name"),canMakePayment:function(e){return!0},content:r.createElement(p,null),edit:r.createElement(p,null),supports:{showSavedCards:l("showSavedCards"),showSaveOption:l("showSaveOption"),features:l("features")}})},7737:(e,t,n)=>{var r,a=n(9307),o=n(5318),i=o(n(9713)),c=o(n(3038)),s=o(n(6479)),u=n(9307),l=n(4613),p=n(1134),d=n(3539),m=n(3187),f=n(6664);function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var g=(0,p.getSettings)("stripe_affirm_data"),h=(null===(r=g("cartTotals"))||void 0===r||r.value,g("currency"),function(e){var t,n=e.title,r=e.components,o=((0,s.default)(e,["title","components"]),r.PaymentMethodLabel),l=(0,u.useState)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){(0,i.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({amount:null===(t=g("cartTotals"))||void 0===t?void 0:t.value,currency:g("currency")},g("messageOptions"))),d=(0,c.default)(l,2),m=d[0],h=d[1];return(0,u.useEffect)((function(){var e=function(e){h(e.detail.options)};return document.addEventListener("stripeAffirmChange",e),function(){return document.removeEventListener("stripeAffirmChange",e)}}),[]),a.createElement("div",{className:"wc-stripe-label-container"},a.createElement(o,{text:n}),a.createElement("div",{className:"wc-stripe-affirm-message-container"},a.createElement(f.Elements,{stripe:p.initStripe,options:g("elementOptions")},a.createElement(f.AffirmMessageElement,{options:m}))))});g()&&(0,l.registerPaymentMethod)({name:g("name"),label:a.createElement(h,{title:g("title"),paymentMethod:g("name"),icons:g("icon")}),ariaLabel:"Affirm",placeOrderButtonLabel:g("placeOrderButtonLabel"),canMakePayment:function(e){var t,n=e.cart,r=n.cartTotals,a=n.billingAddress,o=r.currency_code,i=parseInt(r.total_price),c=g("requirements"),s=g("accountCountry");return t={amount:i,currency:o},document.dispatchEvent(new CustomEvent("stripeAffirmChange",{detail:{options:t}})),o in c&&s===a.country&&5e3<=i&&i<=3e6},content:a.createElement(m.PaymentMethod,{content:function(e){return a.createElement(a.Fragment,null,a.createElement(d.LocalPaymentIntentContent,e),a.createElement(m.OffsiteNotice,{paymentText:g("title"),buttonText:g("placeOrderButtonLabel")}))},getData:g,confirmationMethod:"confirmAffirmPayment"}),edit:a.createElement(m.PaymentMethod,{content:d.LocalPaymentIntentContent,getData:g}),supports:{showSavedCards:!1,showSaveOption:!1,features:g("features")}})},6480:(e,t,n)=>{var r=n(9307),a=n(5318),o=a(n(9713)),i=a(n(3038)),c=a(n(6479)),s=n(9307),u=n(4613),l=n(1134),p=n(3539),d=n(3187),m=n(6664),f=n(5736);function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n(3554),n(8817);var h=(0,l.getSettings)("stripe_afterpay_data"),v=function(e){var t=e.total,n=e.currency,r=!1,a=e.country,o=h("requiredParams"),i=h("accountCountry"),c=!!o.hasOwnProperty(n)&&o[n];if(c){var s=null==c?void 0:c[0];Array.isArray(s)||(s=[s]),r=s.indexOf(i)>-1&&("EUR"!==n||!a||i===a)&&t>(null==c?void 0:c[1])&&t<(null==c?void 0:c[2])}return r},b=function(e){var t=e.title,n=e.getData,a=(0,c.default)(e,["title","getData"]).components.PaymentMethodLabel,o=(0,s.useState)({amount:n("cartTotal"),currency:n("currency"),isCartEligible:n("msgOptions").isEligible}),u=(0,i.default)(o,2),p=u[0],d=u[1];return(0,s.useEffect)((function(){var e=function(e){return d(e.detail.options)};return document.addEventListener("stripeAfterpayChange",e),function(){return document.removeEventListener("stripeAfterpayChange",e)}}),[]),r.createElement("div",{className:"wc-stripe-label-container"},r.createElement(a,{text:t}),r.createElement("div",{className:"wc-stripe-afterpay-message-container"},r.createElement(m.Elements,{stripe:l.initStripe,options:n("elementOptions")},r.createElement("div",{className:"wc-stripe-blocks-afterpay__label"},r.createElement(m.AfterpayClearpayMessageElement,{options:g(g({},n("msgOptions")),p)})))))},P=function(e){var t=e.content,n=e.billing,a=e.shippingData,o=(0,c.default)(e,["content","billing","shippingData"]),i=t,s=n.cartTotal,u=n.currency,l=n.billingData.country,p=(a.needsShipping,parseInt(s.value)/Math.pow(10,u.minorUnit)),m=v({total:p,currency:u.code,country:l});return r.createElement(r.Fragment,null,r.createElement("div",{className:"wc-stripe-blocks-payment-method-content"},m&&r.createElement("div",{className:"wc-stripe-blocks-afterpay-offsite__container"},r.createElement(d.OffsiteNotice,{paymentText:h("title"),buttonText:h("placeOrderButtonLabel")})),r.createElement(i,g(g({},o),{},{billing:n,shippingData:a}))))};h()&&(0,u.registerPaymentMethod)({name:h("name"),label:r.createElement(b,{title:h("title"),getData:h}),ariaLabel:(0,f.__)("Afterpay","woo-stripe-payment"),placeOrderButtonLabel:h("placeOrderButtonLabel"),canMakePayment:(0,p.canMakePayment)(h,(function(e){var t,n=e.settings,r=e.cartTotals,a=e.billingData,o=r.currency_code,i=r.currency_minor_unit,c=r.total_price,s=a.country,u=parseInt(c)/Math.pow(10,i),l=v({total:u,currency:o,country:s});return t={amount:parseInt(r.total_price),currency:o,isCartEligible:l},document.dispatchEvent(new CustomEvent("stripeAfterpayChange",{detail:{options:t}})),!l&&!n("hideIneligible")||l})),content:r.createElement(P,{content:p.LocalPaymentIntentContent,getData:h,confirmationMethod:"confirmAfterpayClearpayPayment"}),edit:r.createElement(d.PaymentMethod,{content:p.LocalPaymentIntentContent,getData:h}),supports:{showSavedCards:!1,showSaveOption:!1,features:h("features")}})},39:(e,t,n)=>{var r=n(9307),a=n(4613),o=n(1134),i=n(3539),c=n(2029),s=n(3187),u=(0,o.getSettings)("stripe_alipay_data");u()&&(0,a.registerPaymentMethod)({name:u("name"),label:r.createElement(c.PaymentMethodLabel,{title:u("title"),paymentMethod:u("name"),icons:u("icon")}),ariaLabel:"Alipay",placeOrderButtonLabel:u("placeOrderButtonLabel"),canMakePayment:(0,i.canMakePayment)(u),content:r.createElement(s.PaymentMethod,{content:i.LocalPaymentIntentContent,confirmationMethod:"confirmAlipayPayment",getData:u}),edit:r.createElement(s.PaymentMethod,{content:i.LocalPaymentIntentContent,getData:u}),supports:{showSavedCards:!1,showSaveOption:!1,features:u("features")}})},8641:(e,t,n)=>{var r=n(9307),a=n(4613),o=n(1134),i=n(3539),c=n(3187),s=(0,o.getSettings)("stripe_bancontact_data");s()&&(0,a.registerPaymentMethod)({name:s("name"),label:r.createElement(c.PaymentMethodLabel,{title:s("title"),paymentMethod:s("name"),icons:s("icon")}),ariaLabel:"Bancontact",placeOrderButtonLabel:s("placeOrderButtonLabel"),canMakePayment:(0,i.canMakePayment)(s),content:r.createElement(c.PaymentMethod,{content:i.LocalPaymentIntentContent,confirmationMethod:"confirmBancontactPayment",getData:s}),edit:r.createElement(c.PaymentMethod,{content:i.LocalPaymentIntentContent,getData:s}),supports:{showSavedCards:!1,showSaveOption:!1,features:s("features")}})},5176:(e,t,n)=>{var r=n(9307),a=n(4613),o=n(1134),i=n(3539),c=n(3187),s=n(6664),u=(0,o.getSettings)("stripe_becs_data"),l=function(e){return r.createElement(r.Fragment,null,r.createElement(c.PaymentMethod,e),r.createElement("div",{className:"wc-stripe-blocks-mandate becs-mandate",dangerouslySetInnerHTML:{__html:e.getData("mandate")}}))};u()&&(0,a.registerPaymentMethod)({name:u("name"),label:r.createElement(c.PaymentMethodLabel,{title:u("title"),paymentMethod:u("name"),icons:u("icon")}),ariaLabel:"BECS",placeOrderButtonLabel:u("placeOrderButtonLabel"),canMakePayment:(0,i.canMakePayment)(u),content:r.createElement(l,{content:i.LocalPaymentIntentContent,getData:u,confirmationMethod:"confirmAuBecsDebitPayment",component:s.AuBankAccountElement}),edit:r.createElement(c.PaymentMethod,{content:i.LocalPaymentIntentContent,getData:u}),supports:{showSavedCards:!1,showSaveOption:!1,features:u("features")}})},1158:(e,t,n)=>{var r=n(9307),a=n(5318),o=a(n(1284)),i=a(n(6479)),c=a(n(8926)),s=a(n(9713)),u=a(n(3038)),l=n(9307),p=n(4613),d=n(5736),m=n(1134),f=n(3187),y=n(3539),g=n(6664),h=a(n(416)),v=a(n(6470));function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){(0,s.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var E=(0,m.getSettings)("stripe_blik_data"),O=function(e){return r.createElement(g.Elements,{stripe:m.initStripe,options:E("elementOptions")},r.createElement(_,e))},_=function(e){var t=(0,l.useRef)(),n=(0,l.useState)(!1),a=(0,u.default)(n,2),p=a[0],f=a[1],y=e.eventRegistration,b=e.billing,O=e.activePaymentMethod,_=e.emitResponse.responseTypes,w=y.onPaymentProcessing,C=y.onCheckoutAfterProcessingWithSuccess,k=y.onCheckoutValidationBeforeProcessing,M=(0,l.useState)([]),j=(0,u.default)(M,2),D=j[0],x=j[1],R=(0,g.useStripe)();return(0,l.useEffect)((function(){t.current={codes:D,billing:b,activePaymentMethod:O}}),[D,b,O]),(0,l.useEffect)((function(){var e=w((function(){var e=t.current.activePaymentMethod;if(E("name")===e)return(0,m.ensureSuccessResponse)(_,{meta:{paymentMethodData:P({},t.current.codes.reduce((function(e,t,n){return P(P({},e),{},(0,s.default)({},"blik_code_".concat(n),t))}),{}))}})}));return e}),[w]),(0,l.useEffect)((function(){var e=k((function(){var e=t.current.activePaymentMethod;if(E("name")===e&&D.length<6)return(0,m.ensureErrorResponse)(_,(0,d.__)("Please enter your 6-digit BLIK code.","woo-stripe-payment"))}));return e}),[D,k]),(0,l.useEffect)((function(){var e=C(function(){var e=(0,c.default)(o.default.mark((function e(n){var r,a,c,s,u,l,p,d;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.redirectUrl,a=t.current.activePaymentMethod,E("name")!==a){e.next=25;break}if(c=t.current.billing.billingAddress,e.prev=4,!(s=(0,m.isNextActionRequired)(r))){e.next=17;break}return u=s.client_secret,l=s.return_url,p=(0,i.default)(s,["client_secret","return_url"]),f(!0),e.next=11,R.confirmBlikPayment(u,{payment_method:{billing_details:(0,m.getBillingDetailsFromAddress)(c),blik:{}},payment_method_options:{blik:{code:D.join("")}},return_url:l});case 11:if(!(d=e.sent).error){e.next=14;break}throw new m.StripeError(d.error);case 14:if("requires_payment_method"!==d.paymentIntent.status){e.next=16;break}throw new m.StripeError(d.paymentIntent.last_payment_error);case 16:window.location=decodeURI(p.order_received_url);case 17:e.next=22;break;case 19:return e.prev=19,e.t0=e.catch(4),e.abrupt("return",(0,m.ensureErrorResponse)(_,e.t0));case 22:return e.prev=22,f(!1),e.finish(22);case 25:case"end":return e.stop()}}),e,null,[[4,19,22,25]])})));return function(t){return e.apply(this,arguments)}}());return e}),[D,R,C]),r.createElement(r.Fragment,null,r.createElement(S,null),!p&&r.createElement(h.default,{onComplete:function(e){return x(e)}}),p&&r.createElement(v.default,{onTimeout:function(){return f(!1)}}))},S=function(){return r.createElement("ol",null,r.createElement("li",null,(0,d.__)("Request your 6-digit code from your banking application.","woo-stripe-payment")),r.createElement("li",{dangerouslySetInnerHTML:{__html:(0,d.sprintf)((0,d.__)("Enter the code into the input fields below. Click %1$s once you have entered the code.","woo-stripe-payment"),"<b>"+E("placeOrderButtonLabel")+"</b>")}}),r.createElement("li",null,(0,d.__)("You will receive a notification on your mobile device asking you to authorize the payment.","woo-stripe-payment")))};E()&&(0,p.registerPaymentMethod)({name:E("name"),label:r.createElement(f.PaymentMethodLabel,{title:E("title"),paymentMethod:E("name"),icons:E("icon")}),ariaLabel:"BLIK",placeOrderButtonLabel:E("placeOrderButtonLabel"),canMakePayment:(0,y.canMakePayment)(E),content:r.createElement(f.PaymentMethod,{content:O,getData:E}),edit:r.createElement(f.PaymentMethod,{content:O,getData:E}),supports:{showSavedCards:!1,showSaveOption:!1,features:E("features")}})},5887:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});var r=n(1158);Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===r[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}}))}))},416:(e,t,n)=>{var r=n(9307),a=n(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.InputCodes=void 0;var o=a(n(319)),i=n(9307),c=n(5736);function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var u=function(e){var t=e.onComplete,n=(0,i.useRef)(),a=(0,i.useRef)([]),u=(0,i.useCallback)((function(e){return function(t){t&&(0===e&&(a.current=[]),a.current=[].concat((0,o.default)(a.current),[t]),0===e&&t.focus())}}),[]),p=function(e){return function(t){var r=e;8===n.current?e>0&&(r=e-1):e<5&&(r=e+1),a.current[r]&&a.current[r].focus()}},d=function(e){return function(t){n.current=t.keyCode;var r=a.current[e].value.length;8===t.keyCode?r||p(e)():r&&p(e)()}},m=function(e){var n,r=[],o=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}(a.current);try{for(o.s();!(n=o.n()).done;){var i,c=n.value;null!==(i=c.value)&&void 0!==i&&i.length&&r.push(c.value)}}catch(e){o.e(e)}finally{o.f()}6===r.length&&t(r)};return r.createElement("div",{className:"wc-stripe-blik-codes-container"},r.createElement("p",null,(0,c.__)("Please enter your 6 digit BLIK code.","woo-stripe-payment")),r.createElement("div",{className:"wc-stripe-blik-codes"},(0,o.default)(Array(6).keys()).map((function(e){return r.createElement(l,{setRef:u(e),key:e,idx:e,onInput:p(e),onKeyDown:d(e),onChange:m})}))))};t.InputCodes=u;var l=function(e){var t=e.setRef,n=e.onInput,a=e.onChange,o=e.onKeyDown;return r.createElement("span",null,r.createElement("input",{ref:t,type:"text",maxLength:1,onKeyDown:o,onInput:n,onChange:function(e){return a(e.currentTarget.value)}}))},p=u;t.default=p},6470:(e,t,n)=>{var r=n(9307),a=n(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Timer=void 0;var o=a(n(3038)),i=n(9307),c=n(5736),s=function(e){var t=e.onTimeout,n=(0,i.useState)(60),a=(0,o.default)(n,2),s=a[0],u=a[1];return(0,i.useEffect)((function(){var e=60,n=setInterval((function(){if(0===e)return t(),clearInterval(n);u(e-=1)}),1e3);return function(){return clearInterval(n)}}),[t]),r.createElement("div",{className:"wc-stripe-blik-timer-container"},r.createElement("div",null,r.createElement("p",null,(0,c.__)("Your transaction will expire in:","woo-stripe-payment"),""),r.createElement("div",{className:"wc-stripe-blik-timer"},r.createElement("span",{className:"timer"},s,"s"))))};t.Timer=s;var u=s;t.default=u},4990:(e,t,n)=>{var r=n(9307),a=n(5318),o=a(n(7154)),i=a(n(9713)),c=a(n(3038)),s=a(n(6479)),u=n(9307),l=n(5736),p=n(4613),d=a(n(4184)),m=n(1134),f=n(3539),y=n(3187);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){(0,i.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var v=(0,m.getSettings)("stripe_boleto_data");v()&&(0,p.registerPaymentMethod)({name:v("name"),label:r.createElement(y.PaymentMethodLabel,{title:v("title"),paymentMethod:v("name"),icons:v("icon")}),ariaLabel:"Boleto",placeOrderButtonLabel:v("placeOrderButtonLabel"),canMakePayment:(0,f.canMakePayment)(v),content:r.createElement(y.PaymentMethod,{content:function(e){var t=e.eventRegistration,n=(0,s.default)(e,["eventRegistration"]),a=(0,u.useState)(""),i=(0,c.default)(a,2),p=i[0],y=i[1],g=(0,u.useState)(!1),v=(0,c.default)(g,2),b=v[0],P=v[1],E=t.onPaymentProcessing,O=(0,u.useCallback)((function(){return{boleto:{tax_id:p}}}),[p]);return(0,u.useEffect)((function(){var e=E((function(){return p?(0,m.ensureSuccessResponse)(n.emitResponse.responseTypes,{meta:{paymentMethodData:{wc_stripe_boleto_tax_id:p}}}):(0,m.ensureErrorResponse)(n.emitResponse.responseTypes,(0,l.__)("Please enter a valid CPF/CNPJ value","woo-stripe-payment"))}));return function(){return e()}}),[E,p]),r.createElement(r.Fragment,null,r.createElement("div",{className:(0,d.default)("wc-block-components-text-input",{"is-active":b||p})},r.createElement("input",{type:"text",id:"wc-stripe-boleto-tax_id",onChange:function(e){return y(e.target.value)},onFocus:function(){return P(!0)},onBlur:function(){return P(!1)}}),r.createElement("label",{htmlFor:"wc-stripe-boleto-tax_id"},(0,l.__)(" CPF / CNPJ"," woo-stripe-payment"))),(0,m.isTestMode)()&&r.createElement("div",{className:"wc-stripe-boleto__description"},r.createElement("p",null,(0,l.__)("Test mode values","woo-stripe-payment")),r.createElement("div",null,r.createElement("label",null,"CPF:"),"",r.createElement("span",null,"000.000.000-00")),r.createElement("div",null,r.createElement("label",null,"CNPJ:"),"",r.createElement("span",null,"00.000.000/0000-00"))),!(0,m.isTestMode)()&&r.createElement("div",{className:"wc-stripe-boleto__description"},r.createElement("p",null,(0,l.__)("Accepted formats","woo-stripe-payment")),r.createElement("div",null,r.createElement("label",null,"CPF:"),"",r.createElement("span",null,(0,l.__)("XXX.XXX.XXX-XX or XXXXXXXXXXX","woo-stripe-payment"))),r.createElement("div",null,r.createElement("label",null,"CNPJ:"),"",r.createElement("span",null,(0,l.__)("XX.XXX.XXX/XXXX-XX or XXXXXXXXXXXXXX","woo-stripe-payment")))),r.createElement(f.LocalPaymentIntentContent,(0,o.default)({callback:O},h(h({},n),{eventRegistration:t}))))},getData:v,confirmationMethod:"confirmBoletoPayment"}),edit:r.createElement(y.PaymentMethod,{content:f.LocalPaymentIntentContent,getData:v}),supports:{showSavedCards:!1,showSaveOption:!1,features:v("features")}})},4494:(e,t,n)=>{var r=n(9307),a=n(4613),o=n(1134),i=n(3539),c=n(3187),s=n(6664),u=(0,o.getSettings)("stripe_eps_data");u()&&(0,a.registerPaymentMethod)({name:u("name"),label:r.createElement(c.PaymentMethodLabel,{title:u("title"),paymentMethod:u("name"),icons:u("icon")}),ariaLabel:"EPS",placeOrderButtonLabel:u("placeOrderButtonLabel"),canMakePayment:(0,i.canMakePayment)(u),content:r.createElement(c.PaymentMethod,{content:i.LocalPaymentIntentContent,confirmationMethod:"confirmEpsPayment",component:s.EpsBankElement,getData:u}),edit:r.createElement(c.PaymentMethod,{content:i.LocalPaymentIntentContent,getData:u}),supports:{showSavedCards:!1,showSaveOption:!1,features:u("features")}})},4031:(e,t,n)=>{var r=n(9307),a=n(4613),o=n(1134),i=n(3539),c=n(3187),s=n(6664),u=(0,o.getSettings)("stripe_fpx_data");u()&&(0,a.registerPaymentMethod)({name:u("name"),label:r.createElement(c.PaymentMethodLabel,{title:u("title"),paymentMethod:u("name"),icons:u("icon")}),ariaLabel:"FPX",placeOrderButtonLabel:u("placeOrderButtonLabel"),canMakePayment:(0,i.canMakePayment)(u),content:r.createElement(c.PaymentMethod,{content:i.LocalPaymentIntentContent,getData:u,confirmationMethod:"confirmFpxPayment",component:s.FpxBankElement}),edit:r.createElement(c.PaymentMethod,{content:i.LocalPaymentIntentContent,getData:u}),supports:{showSavedCards:!1,showSaveOption:!1,features:u("features")}})},3817:(e,t,n)=>{var r=n(9307),a=n(4613),o=n(1134),i=n(3539),c=n(3187),s=(0,o.getSettings)("stripe_giropay_data");s()&&(0,a.registerPaymentMethod)({name:s("name"),label:r.createElement(c.PaymentMethodLabel,{title:s("title"),paymentMethod:s("name"),icons:s("icon")}),ariaLabel:"Giropay",placeOrderButtonLabel:s("placeOrderButtonLabel"),canMakePayment:(0,i.canMakePayment)(s),content:r.createElement(c.PaymentMethod,{content:i.LocalPaymentIntentContent,confirmationMethod:"confirmGiropayPayment",getData:s}),edit:r.createElement(c.PaymentMethod,{content:i.LocalPaymentIntentContent,getData:s}),supports:{showSavedCards:!1,showSaveOption:!1,features:s("features")}})},3140:(e,t,n)=>{var r=n(9307),a=n(4613),o=n(1134),i=n(3539),c=n(3187),s=(0,o.getSettings)("stripe_grabpay_data");s()&&(0,a.registerPaymentMethod)({name:s("name"),label:r.createElement(c.PaymentMethodLabel,{title:s("title"),paymentMethod:s("name"),icons:s("icon")}),ariaLabel:"GrabPay",placeOrderButtonLabel:s("placeOrderButtonLabel"),canMakePayment:(0,i.canMakePayment)(s),content:r.createElement(c.PaymentMethod,{content:i.LocalPaymentIntentContent,getData:s,confirmationMethod:"confirmGrabPayPayment"}),edit:r.createElement(c.PaymentMethod,{content:i.LocalPaymentIntentContent,getData:s}),supports:{showSavedCards:!1,showSaveOption:!1,features:s("features")}})},8522:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});var r=n(3160);Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===r[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}}))}));var a=n(3994);Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===a[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}}))}));var o=n(878);Object.keys(o).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===o[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}}))}))},3160:(e,t,n)=>{var r=n(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.useAfterProcessLocalPayment=void 0;var a=r(n(1284)),o=r(n(9713)),i=r(n(6479)),c=r(n(8926)),s=n(9307),u=n(6664),l=n(1134);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.useAfterProcessLocalPayment=function(e){var t=e.getData,n=e.billingData,r=e.eventRegistration,o=e.responseTypes,p=e.activePaymentMethod,m=e.confirmationMethod,f=e.getPaymentMethodArgs,y=void 0===f?function(){return{}}:f,g=(0,u.useStripe)(),h=r.onCheckoutAfterProcessingWithSuccess,v=r.onCheckoutAfterProcessingWithError,b=(0,s.useRef)(n),P=(0,s.useRef)(y);(0,s.useEffect)((function(){b.current=n}),[n]),(0,s.useEffect)((function(){P.current=y}),[y]),(0,s.useEffect)((function(){var e=h(function(){var e=(0,c.default)(a.default.mark((function e(n){var r,c,s,u,f,y,h,v;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.redirectUrl,t("name")!==p){e.next=18;break}if(e.prev=2,!(c=r.match(/#response=(.+)/))){e.next=12;break}return s=JSON.parse(window.atob(decodeURIComponent(c[1]))),u=s.client_secret,f=s.return_url,y=s.billing_details,h=(0,i.default)(s,["client_secret","return_url","billing_details"]),e.next=8,g[m](u,{payment_method:d({billing_details:y},P.current(b.current)),return_url:f});case 8:if(!(v=e.sent).error){e.next=11;break}throw new l.StripeError(v.error);case 11:window.location=decodeURI(h.order_received_url);case 12:e.next=18;break;case 14:return e.prev=14,e.t0=e.catch(2),console.log(e.t0),e.abrupt("return",(0,l.ensureErrorResponse)(o,e.t0.error));case 18:case"end":return e.stop()}}),e,null,[[2,14]])})));return function(t){return e.apply(this,arguments)}}());return function(){return e()}}),[g,h,v])}},878:(e,t,n)=>{var r=n(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.useCreateSource=void 0;var a=r(n(1284)),o=r(n(8926)),i=r(n(9713)),c=r(n(3038)),s=n(9307),u=n(1134),l=n(6664),p=n(5736);t.useCreateSource=function(e){var t=e.getData,n=e.billing,r=e.shippingAddress,d=e.onPaymentProcessing,m=e.responseTypes,f=e.getSourceArgs,y=void 0!==f&&f,g=e.element,h=void 0!==g&&g,v=(0,s.useState)(!1),b=(0,c.default)(v,2),P=b[0],E=b[1],O=(0,s.useState)(!1),_=(0,c.default)(O,2),S=_[0],w=_[1],C=(0,s.useRef)({billing:n,shippingAddress:r}),k=(0,l.useStripe)(),M=(0,l.useElements)();(0,s.useEffect)((function(){C.current={billing:n,shippingAddress:r}}));var j=(0,s.useCallback)((function(){var e=C.current.billing,n=e.cartTotal,r=e.currency,a=e.billingData,o=(0,u.getDefaultSourceArgs)({type:t("paymentType"),amount:n.value,billingData:a,currency:r.code,returnUrl:t("returnUrl")});return y&&(o=y(o,{billingData:a})),o}),[]),D=(0,s.useCallback)((function(e){return{meta:{paymentMethodData:(0,i.default)({},"".concat(t("name"),"_token_key"),e)}}}),[]);return(0,s.useEffect)((function(){var e=d((0,o.default)(a.default.mark((function e(){var t;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!P){e.next=2;break}return e.abrupt("return",(0,u.ensureSuccessResponse)(m,D(P.id)));case 2:if(e.prev=2,!h){e.next=11;break}if(S){e.next=6;break}throw(0,p.__)("Please enter your payment info before proceeding.","woo-stripe-payment");case 6:return e.next=8,k.createSource(M.getElement(h),j());case 8:t=e.sent,e.next=14;break;case 11:return e.next=13,k.createSource(j());case 13:t=e.sent;case 14:if(!t.error){e.next=16;break}throw new u.StripeError(t.error);case 16:return E(t.source),e.abrupt("return",(0,u.ensureSuccessResponse)(m,D(t.source.id)));case 20:return e.prev=20,e.t0=e.catch(2),console.log(e.t0),e.abrupt("return",(0,u.ensureErrorResponse)(m,e.t0.error||e.t0));case 24:case"end":return e.stop()}}),e,null,[[2,20]])}))));return function(){return e()}}),[P,d,k,m,h,S,w]),{setIsValid:w}}},3994:(e,t,n)=>{var r=n(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.useValidateCheckout=void 0;var a=r(n(9713)),o=r(n(3038)),i=n(9307),c=n(1134),s=n(5736);t.useValidateCheckout=function(e){var t=e.subscriber,n=e.responseTypes,r=e.component,u=void 0===r?null:r,l=e.shouldSavePayment,p=void 0!==l&&l,d=e.paymentMethodName,m=void 0===d?"":d,f=e.msg,y=void 0===f?(0,s.__)("Please enter your payment info before proceeding.","woo-stripe-payment"):f,g=(0,i.useState)(!1),h=(0,o.default)(g,2),v=h[0],b=h[1],P=(0,i.useRef)({});return(0,i.useEffect)((function(){P.current={shouldSavePayment:p,paymentMethodName:m}}),[p,m]),(0,i.useEffect)((function(){var e=t((function(){var e=P.current,t=e.shouldSavePayment,r=e.paymentMethodName;return u&&!v?(0,c.ensureErrorResponse)(n,y):{type:n.SUCCESS,meta:{paymentMethodData:(0,a.default)({},"".concat(r,"_save_source_key"),t)}}}));return function(){return e()}}),[t,v,b,n,u]),{isValid:v,setIsValid:b}}},9474:(e,t,n)=>{var r=n(9307),a=n(4613),o=n(1134),i=n(3539),c=n(3187),s=n(6664),u=(0,o.getSettings)("stripe_ideal_data");u()&&(0,a.registerPaymentMethod)({name:u("name"),label:r.createElement(c.PaymentMethodLabel,{title:u("title"),paymentMethod:u("name"),icons:u("icon")}),ariaLabel:"Ideal",placeOrderButtonLabel:u("placeOrderButtonLabel"),canMakePayment:(0,i.canMakePayment)(u),content:r.createElement(c.PaymentMethod,{content:i.LocalPaymentIntentContent,getData:u,confirmationMethod:"confirmIdealPayment",component:s.IdealBankElement}),edit:r.createElement(c.PaymentMethod,{content:i.LocalPaymentIntentContent,getData:u}),supports:{showSavedCards:!1,showSaveOption:!1,features:u("features")}})},9738:(e,t,n)=>{n(5142),n(9474),n(3868),n(8641),n(3817),n(4494),n(4784),n(1192),n(7894),n(3766),n(4031),n(5176),n(3140),n(39),n(6480),n(4990),n(5748),n(7737),n(5887),n(9994),n(7778),n(7451)},5142:(e,t,n)=>{var r=n(9307),a=n(4613),o=n(1134),i=n(3539),c=n(3187),s=n(5736),u=(0,o.getSettings)("stripe_klarna_data");u()&&(0,a.registerPaymentMethod)({name:u("name"),label:r.createElement(c.PaymentMethodLabel,{title:u("title"),paymentMethod:u("name"),icons:u("icon")}),ariaLabel:"Klarna",placeOrderButtonLabel:u("placeOrderButtonLabel"),canMakePayment:(0,i.canMakePayment)(u,(function(e){var t=e.settings,n=e.billingData,r=e.cartTotals,a=n.country,o=r.currency_code,i=t("requiredParams");return[o]in i&&i[o].includes(a)})),content:r.createElement(c.PaymentMethod,{content:function(e){return r.createElement(r.Fragment,null,(0,o.isTestMode)()&&r.createElement("div",{className:"wc-stripe-klarna__testmode"},r.createElement("label",null,(0,s.__)("Test mode sms","woo-stripe-payment"),":"),"",r.createElement("span",null,"123456")),r.createElement(i.LocalPaymentIntentContent,e))},getData:u,confirmationMethod:"confirmKlarnaPayment"}),edit:r.createElement(c.PaymentMethod,{content:i.LocalPaymentIntentContent,getData:u}),supports:{showSavedCards:!1,showSaveOption:!1,features:u("features")}})},9994:(e,t,n)=>{var r=n(9307),a=n(5318),o=a(n(1284)),i=a(n(6479)),c=a(n(8926)),s=n(9307),u=n(4613),l=n(1134),p=n(3187),d=n(3539),m=n(6664),f=n(5736),y=(0,l.getSettings)("stripe_konbini_data"),g=function(e){return r.createElement(m.Elements,{stripe:l.initStripe,options:y("elementOptions")},r.createElement(h,e))},h=function(e){var t=e.eventRegistration,n=e.billing,a=e.activePaymentMethod,u=e.emitResponse.responseTypes,p=t.onCheckoutAfterProcessingWithSuccess,d=(0,s.useRef)(!0),f=(0,s.useRef)({billing:n,activePaymentMethod:a}),g=(0,m.useStripe)();return(0,s.useEffect)((function(){f.current={billing:n,activePaymentMethod:a}}),[n,a]),(0,s.useEffect)((function(){var e=p(function(){var e=(0,c.default)(o.default.mark((function e(t){var n,r,c,s,p,m,h,v,b;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.redirectUrl,a!==y("name")){e.next=20;break}if(r=f.current.billing.billingAddress,c=d.current,e.prev=4,!(s=(0,l.isNextActionRequired)(n))){e.next=14;break}return p=s.client_secret,m=s.return_url,h=(0,i.default)(s,["client_secret","return_url"]),e.next=10,g.confirmKonbiniPayment(p,{payment_method:{billing_details:(0,l.getBillingDetailsFromAddress)(r)},payment_method_options:{konbini:{confirmation_number:c?h.billing_phone:h.confirmation_number}},return_url:m});case 10:if(!(v=e.sent).error){e.next=13;break}throw new l.StripeError(v.error);case 13:window.location=decodeURI(h.order_received_url);case 14:e.next=20;break;case 16:return e.prev=16,e.t0=e.catch(4),"payment_intent_konbini_rejected_confirmation_number"===(null===e.t0||void 0===e.t0||null===(b=e.t0.error)||void 0===b?void 0:b.code)&&(d.current=!1),e.abrupt("return",(0,l.ensureErrorResponse)(u,e.t0));case 20:case"end":return e.stop()}}),e,null,[[4,16]])})));return function(t){return e.apply(this,arguments)}}());return e}),[g,a,p]),r.createElement(v,null)},v=function(){return r.createElement("ol",null,r.createElement("li",{dangerouslySetInnerHTML:{__html:(0,f.sprintf)((0,f.__)("Click %1$s and you will be presented with your Konbini payment code and confirmation number.","woo-stripe-payment"),"<b>"+y("placeOrderButtonLabel")+"</b>")}}),r.createElement("li",null,(0,f.sprintf)((0,f.__)("Your order email will contain a link to your Konbini voucher which has your payment code and confirmation number.","woo-stripe-payment"))),r.createElement("li",null,(0,f.sprintf)((0,f.__)("At the convenience store, provide the payment code and confirmation number to the payment machine or cashier.","woo-stripe-payment"))),r.createElement("li",null,(0,f.sprintf)((0,f.__)("After the payment is complete, keep the receipt for your records.","woo-stripe-payment"))))};y()&&(0,u.registerPaymentMethod)({name:y("name"),label:r.createElement(p.PaymentMethodLabel,{title:y("title"),paymentMethod:y("name"),icons:y("icon")}),ariaLabel:"Konbini",placeOrderButtonLabel:y("placeOrderButtonLabel"),canMakePayment:(0,d.canMakePayment)(y),content:r.createElement(p.PaymentMethod,{content:g,getData:y}),edit:r.createElement(p.PaymentMethod,{content:g,getData:y}),supports:{showSavedCards:!1,showSaveOption:!1,features:y("features")}})},3539:(e,t,n)=>{var r=n(9307),a=n(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.canMakePayment=t.LocalPaymentSourceContent=t.LocalPaymentIntentMethod=t.LocalPaymentIntentContent=void 0;var o=a(n(7154)),i=a(n(9713)),c=a(n(6479)),s=n(9307),u=n(6664),l=n(1134),p=n(8522),d=n(3636);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){(0,i.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.canMakePayment=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n){var r=n.billingData,a=n.cartTotals,o=(0,c.default)(n,["billingData","cartTotals"]),i=a.currency_code,s=r.country,u=e("countries"),p=e("allowedCountries"),d=e("features"),m=!1;if(e("isAdmin"))m=!0;else{if((0,l.cartContainsSubscription)()&&!d.includes("subscriptions"))return!1;if((0,l.cartContainsPreOrder)()&&!d.includes("pre-orders"))return!1;e("currencies").includes(i)&&(m="all_except"===p?!e("exceptCountries").includes(s):"specific"===p?e("specificCountries").includes(s):!(u.length>0)||u.includes(s)),t&&m&&(m=t(f({settings:e,billingData:r,cartTotals:a},o)))}return m}},t.LocalPaymentIntentContent=function(e){var t=e.getData,n=(0,c.default)(e,["getData"]);return r.createElement(u.Elements,{stripe:l.initStripe,options:t("elementOptions")},r.createElement(g,f(f({},n),{},{getData:t})))},t.LocalPaymentSourceContent=function(e){return r.createElement(u.Elements,{stripe:l.initStripe},r.createElement(y,e))};var y=function(e){var t=e.getData,n=e.billing,a=e.shippingData,o=e.emitResponse,i=e.eventRegistration,c=e.getSourceArgs,s=void 0!==c&&c,u=e.element,l=void 0!==u&&u,d=a.shippingAddress,m=i.onPaymentProcessing,f=(i.onCheckoutAfterProcessingWithError,o.responseTypes),y=(o.noticeContexts,(0,p.useCreateSource)({getData:t,billing:n,shippingAddress:d,onPaymentProcessing:m,responseTypes:f,getSourceArgs:s,element:l}).setIsValid);return l?r.createElement(h,{name:t("name"),options:t("paymentElementOptions"),onChange:function(e){y(e.complete)},element:l}):null},g=function(e){var t=e.getData,n=e.billing,a=e.emitResponse,l=e.eventRegistration,m=e.activePaymentMethod,f=e.confirmationMethod,y=void 0===f?null:f,g=e.component,v=void 0===g?null:g,b=e.callback,P=void 0===b?null:b,E=e.shouldSavePayment,O=void 0!==E&&E,_=(0,c.default)(e,["getData","billing","emitResponse","eventRegistration","activePaymentMethod","confirmationMethod","component","callback","shouldSavePayment"]),S=(0,u.useElements)(),w=n.billingData,C=l.onPaymentProcessing,k=l.onCheckoutAfterProcessingWithError,M=a.responseTypes,j=a.noticeContexts,D=(0,s.useCallback)((function(e){return v?(0,i.default)({},t("paymentType"),S.getElement(v)):P?P(e):{}}),[S,P]),x=(0,p.useValidateCheckout)({subscriber:C,responseTypes:M,component:v,shouldSavePayment:O,paymentMethodName:t("name")}).setIsValid;return(0,p.useAfterProcessLocalPayment)({getData:t,billingData:w,eventRegistration:l,responseTypes:M,activePaymentMethod:m,confirmationMethod:y,getPaymentMethodArgs:D}),(0,d.useProcessCheckoutError)({responseTypes:M,subscriber:k,messageContext:j.PAYMENT}),v?r.createElement(h,(0,o.default)({name:t("name"),options:t("paymentElementOptions"),onChange:function(e){return x(!e.empty)},element:v,callback:P,billing:n},_)):null};t.LocalPaymentIntentMethod=g;var h=function(e){var t=e.name,n=e.onChange,a=e.element,i=e.options,s=(0,c.default)(e,["name","onChange","element","options"]),u=a,l=(null==u?void 0:u.displayName)||"";return r.createElement("div",{className:"wc-stripe-local-payment-container ".concat(t," ").concat(l)},r.createElement(u,(0,o.default)({options:i,onChange:n},s)))}},4784:(e,t,n)=>{var r=n(9307),a=n(4613),o=n(1134),i=n(3539),c=n(3187),s=(0,o.getSettings)("stripe_multibanco_data");s()&&(0,a.registerPaymentMethod)({name:s("name"),label:r.createElement(c.PaymentMethodLabel,{title:s("title"),paymentMethod:s("name"),icons:s("icon")}),ariaLabel:"MultiBanco",placeOrderButtonLabel:s("placeOrderButtonLabel"),canMakePayment:(0,i.canMakePayment)(s),content:r.createElement(c.PaymentMethod,{content:i.LocalPaymentSourceContent,getData:s}),edit:r.createElement(c.PaymentMethod,{content:i.LocalPaymentSourceContent,getData:s}),supports:{showSavedCards:!1,showSaveOption:!1,features:s("features")}})},5748:(e,t,n)=>{var r=n(9307),a=n(4613),o=n(1134),i=n(3539),c=n(3187),s=(n(6664),(0,o.getSettings)("stripe_oxxo_data"));s()&&(0,a.registerPaymentMethod)({name:s("name"),label:r.createElement(c.PaymentMethodLabel,{title:s("title"),paymentMethod:s("name"),icons:s("icon")}),ariaLabel:"OXXO",placeOrderButtonLabel:s("placeOrderButtonLabel"),canMakePayment:(0,i.canMakePayment)(s),content:r.createElement(c.PaymentMethod,{content:i.LocalPaymentIntentContent,getData:s,confirmationMethod:"confirmOxxoPayment"}),edit:r.createElement(c.PaymentMethod,{content:i.LocalPaymentIntentContent,getData:s}),supports:{showSavedCards:!1,showSaveOption:!1,features:s("features")}})},3868:(e,t,n)=>{var r=n(9307),a=n(4613),o=n(1134),i=n(3539),c=n(3187),s=n(6664),u=(0,o.getSettings)("stripe_p24_data");u()&&(0,a.registerPaymentMethod)({name:u("name"),label:r.createElement(c.PaymentMethodLabel,{title:u("title"),paymentMethod:u("name"),icons:u("icon")}),ariaLabel:"P24",placeOrderButtonLabel:u("placeOrderButtonLabel"),canMakePayment:(0,i.canMakePayment)(u),content:r.createElement(c.PaymentMethod,{content:i.LocalPaymentIntentContent,getData:u,confirmationMethod:"confirmP24Payment",component:s.P24BankElement}),edit:r.createElement(c.PaymentMethod,{content:i.LocalPaymentIntentContent,getData:u}),supports:{showSavedCards:!1,showSaveOption:!1,features:u("features")}})},7778:(e,t,n)=>{var r=n(9307),a=n(5318),o=a(n(1284)),i=a(n(6479)),c=a(n(8926)),s=n(9307),u=n(4613),l=n(3187),p=n(3539),d=n(1134),m=n(6664),f=n(5736),y=(0,d.getSettings)("stripe_paynow_data"),g=function(e){return r.createElement(m.Elements,{stripe:d.initStripe,options:y("elementOptions")},r.createElement(h,e))},h=function(e){var t=e.eventRegistration,n=e.billing,a=e.activePaymentMethod,u=e.emitResponse.responseTypes,l=t.onCheckoutAfterProcessingWithSuccess,p=(0,s.useRef)({billing:n,activePaymentMethod:a}),g=(0,m.useStripe)();return(0,s.useEffect)((function(){p.current={billing:n,activePaymentMethod:a}}),[n,a]),(0,s.useEffect)((function(){var e=l(function(){var e=(0,c.default)(o.default.mark((function e(t){var n,r,c,s,l,m,h;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.redirectUrl,a!==y("name")){e.next=22;break}if(r=p.current.billing.billingAddress,e.prev=3,!(c=(0,d.isNextActionRequired)(n))){e.next=17;break}return s=c.client_secret,l=c.return_url,m=(0,i.default)(c,["client_secret","return_url"]),e.next=9,g.confirmPayNowPayment(s,{payment_method:{billing_details:(0,d.getBillingDetailsFromAddress)(r)},return_url:l});case 9:if(!(h=e.sent).error){e.next=12;break}throw new d.StripeError(h.error);case 12:if("requires_action"!==h.paymentIntent.status){e.next=14;break}throw(0,f.__)("PayNow payment cancelled.","woo-stripe-payment");case 14:if("requires_payment_method"!==h.paymentIntent.status){e.next=16;break}throw(0,f.__)("PayNow payment expired. Please try again.","woo-stripe-payment");case 16:window.location=decodeURI(m.order_received_url);case 17:e.next=22;break;case 19:return e.prev=19,e.t0=e.catch(3),e.abrupt("return",(0,d.ensureErrorResponse)(u,e.t0));case 22:case"end":return e.stop()}}),e,null,[[3,19]])})));return function(t){return e.apply(this,arguments)}}());return e}),[g,a,l]),r.createElement(v,null)},v=function(){return r.createElement("ol",null,r.createElement("li",{dangerouslySetInnerHTML:{__html:(0,f.sprintf)((0,f.__)("Click %1$s and you will be shown a QR code.","woo-stripe-payment"),"<b>"+y("placeOrderButtonLabel")+"</b>")}}),r.createElement("li",null,(0,f.sprintf)((0,f.__)("Scan the QR code using an app from participating banks and participating non-bank financial institutions.","woo-stripe-payment"))),r.createElement("li",null,(0,f.sprintf)((0,f.__)("The authentication process may take several moments. Once confirmed, you will be redirected to the order received page.","woo-stripe-payment"))))};y()&&(0,u.registerPaymentMethod)({name:y("name"),label:r.createElement(l.PaymentMethodLabel,{title:y("title"),paymentMethod:y("name"),icons:y("icon")}),ariaLabel:"PayNow",placeOrderButtonLabel:y("placeOrderButtonLabel"),canMakePayment:(0,p.canMakePayment)(y),content:r.createElement(l.PaymentMethod,{content:g,getData:y}),edit:r.createElement(l.PaymentMethod,{content:g,getData:y}),supports:{showSavedCards:!1,showSaveOption:!1,features:y("features")}})},7451:(e,t,n)=>{var r=n(9307),a=n(5318),o=a(n(1284)),i=a(n(6479)),c=a(n(8926)),s=n(9307),u=n(4613),l=n(3187),p=n(3539),d=n(1134),m=n(6664),f=n(5736),y=(0,d.getSettings)("stripe_promptpay_data"),g=function(e){return r.createElement(m.Elements,{stripe:d.initStripe,options:y("elementOptions")},r.createElement(h,e))},h=function(e){var t=e.eventRegistration,n=e.billing,a=e.activePaymentMethod,u=e.emitResponse.responseTypes,l=t.onCheckoutAfterProcessingWithSuccess,p=(0,s.useRef)({billing:n,activePaymentMethod:a}),g=(0,m.useStripe)();return(0,s.useEffect)((function(){p.current={billing:n,activePaymentMethod:a}}),[n,a]),(0,s.useEffect)((function(){var e=l(function(){var e=(0,c.default)(o.default.mark((function e(t){var n,r,c,s,l,m,h;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.redirectUrl,a!==y("name")){e.next=22;break}if(r=p.current.billing.billingAddress,e.prev=3,!(c=(0,d.isNextActionRequired)(n))){e.next=17;break}return s=c.client_secret,l=c.return_url,m=(0,i.default)(c,["client_secret","return_url"]),e.next=9,g.confirmPromptPayPayment(s,{payment_method:{billing_details:(0,d.getBillingDetailsFromAddress)(r)},return_url:l});case 9:if(!(h=e.sent).error){e.next=12;break}throw new d.StripeError(h.error);case 12:if("requires_action"!==h.paymentIntent.status){e.next=14;break}throw(0,f.__)("PromptPay payment cancelled.","woo-stripe-payment");case 14:if("requires_payment_method"!==h.paymentIntent.status){e.next=16;break}throw{code:h.paymentIntent.last_payment_error.code};case 16:window.location=decodeURI(m.order_received_url);case 17:e.next=22;break;case 19:return e.prev=19,e.t0=e.catch(3),e.abrupt("return",(0,d.ensureErrorResponse)(u,e.t0));case 22:case"end":return e.stop()}}),e,null,[[3,19]])})));return function(t){return e.apply(this,arguments)}}());return e}),[g,a,l]),r.createElement(v,null)},v=function(){return r.createElement("ol",null,r.createElement("li",{dangerouslySetInnerHTML:{__html:(0,f.sprintf)((0,f.__)("Click %1$s and you will be shown a QR code.","woo-stripe-payment"),"<b>"+y("placeOrderButtonLabel")+"</b>")}}),r.createElement("li",null,(0,f.sprintf)((0,f.__)("Scan the QR code using a payment app that supports PromptPay.","woo-stripe-payment"))),r.createElement("li",null,(0,f.sprintf)((0,f.__)("The authentication process may take several moments. Once confirmed, you will be redirected to the order received page.","woo-stripe-payment"))))};y()&&(0,u.registerPaymentMethod)({name:y("name"),label:r.createElement(l.PaymentMethodLabel,{title:y("title"),paymentMethod:y("name"),icons:y("icon")}),ariaLabel:"PromptPay",placeOrderButtonLabel:y("placeOrderButtonLabel"),canMakePayment:(0,p.canMakePayment)(y),content:r.createElement(l.PaymentMethod,{content:g,getData:y}),edit:r.createElement(l.PaymentMethod,{content:g,getData:y}),supports:{showSavedCards:!1,showSaveOption:!1,features:y("features")}})},1192:(e,t,n)=>{var r,a=n(9307),o=n(4613),i=n(1134),c=n(3187),s=n(3539),u=n(6664),l=(0,i.getSettings)("stripe_sepa_data"),p=(r=c.PaymentMethod,function(e){return a.createElement(a.Fragment,null,a.createElement(r,e),a.createElement("div",{className:"wc-stripe-blocks-mandate sepa-mandate",dangerouslySetInnerHTML:{__html:e.getData("mandate")}}))});l()&&(0,o.registerPaymentMethod)({name:l("name"),label:a.createElement(c.PaymentMethodLabel,{title:l("title"),paymentMethod:l("name"),icons:l("icon")}),ariaLabel:"SEPA",placeOrderButtonLabel:l("placeOrderButtonLabel"),canMakePayment:(0,s.canMakePayment)(l),content:a.createElement(p,{content:s.LocalPaymentIntentContent,getData:l,confirmationMethod:"confirmSepaDebitPayment",component:u.IbanElement}),edit:a.createElement(c.PaymentMethod,{content:s.LocalPaymentIntentContent,getData:l}),supports:{showSavedCards:!0,showSaveOption:!0,features:l("features")}})},7894:(e,t,n)=>{var r=n(9307),a=n(4613),o=n(1134),i=n(3539),c=n(3187),s=(0,o.getSettings)("stripe_sofort_data");s()&&(0,a.registerPaymentMethod)({name:s("name"),label:r.createElement(c.PaymentMethodLabel,{title:s("title"),paymentMethod:s("name"),icons:s("icon")}),ariaLabel:"Sofort",placeOrderButtonLabel:s("placeOrderButtonLabel"),canMakePayment:(0,i.canMakePayment)(s),content:r.createElement(c.PaymentMethod,{content:i.LocalPaymentIntentContent,confirmationMethod:"confirmSofortPayment",getData:s,callback:function(e){return{sofort:{country:e.country}}}}),edit:r.createElement(c.PaymentMethod,{content:i.LocalPaymentIntentContent,getData:s}),supports:{showSavedCards:!1,showSaveOption:!1,features:s("features")}})},3766:(e,t,n)=>{var r=n(9307),a=n(5318),o=a(n(1284)),i=a(n(8926)),c=a(n(9713)),s=a(n(3038)),u=n(9307),l=n(4613),p=n(1134),d=n(3187),m=n(3539),f=n(6664),y=n(8522),g=n(5736),h=n(3636),v=(0,p.getSettings)("stripe_wechat_data"),b=function(e){return r.createElement(f.Elements,{stripe:p.initStripe},r.createElement(P,e))},P=function(e){var t=e.getData,n=e.billing,a=(e.shippingData,e.emitResponse),o=e.eventRegistration,i=e.components,c=parseInt(t("qrSize")),s=a.responseTypes,l=o.onPaymentProcessing,d=o.onCheckoutAfterProcessingWithSuccess,m=i.ValidationInputError,f=(0,y.useValidateCheckout)({subscriber:o.onPaymentProcessing,responseTypes:a.responseTypes,msg:(0,g.__)("Please scan your QR code to continue with payment.","woo-stripe-payment")}),h=(f.isValid,f.setIsValid),v=O({getData:t,billing:n,responseTypes:s,subscriber:l}),b=v.source,P=v.error,_=v.deleteSourceFromStorage;return(0,u.useEffect)((function(){var e=d((function(){return _(),(0,p.ensureSuccessResponse)(s)}));return function(){return e()}}),[b,d,_]),(0,u.useEffect)((function(){b&&h(!0)}),[b]),b?r.createElement(E,{text:b.wechat.qr_code_url,width:c,height:c}):P?r.createElement("div",{className:"wechat-validation-error"},r.createElement(m,{errorMessage:(0,p.getErrorMessage)(P)})):(0,p.isAddressValid)(n.billingData)?null:(0,g.__)("Please fill out all the required fields in order to complete the WeChat payment.","woo-stripe-payment")},E=function(e){var t=e.text,n=e.width,a=void 0===n?128:n,o=e.height,i=void 0===o?128:o,c=e.colorDark,s=void 0===c?"#424770":c,l=e.colorLight,d=void 0===l?"#f8fbfd":l,m=e.correctLevel,f=void 0===m?QRCode.CorrectLevel.H:m,y=(0,u.useRef)();return(0,u.useEffect)((function(){new QRCode(y.current,{text:t,width:a,height:i,colorDark:s,colorLight:d,correctLevel:f})}),[y]),r.createElement(r.Fragment,null,r.createElement("div",{id:"wc-stripe-block-qrcode",ref:y}),(0,p.isTestMode)()&&r.createElement("p",null,(0,g.__)("Test mode: Click the Place Order button to proceed.","woo-stripe-payment")),!(0,p.isTestMode)()&&r.createElement("p",null,(0,g.__)("Scan the QR code using your WeChat app. Once scanned click the Place Order button.","woo-stripe-payment")))},O=function(e){var t=e.getData,n=e.billing,r=e.responseTypes,a=e.subscriber,l=(0,f.useStripe)(),d=(0,h.useStripeError)(),m=(0,s.default)(d,2),y=m[0],g=m[1],v=(0,u.useState)((0,p.getFromCache)("wechat:source")),b=(0,s.default)(v,2),P=b[0],E=b[1],O=(0,u.useRef)(null),_=n.cartTotal,S=n.billingData,w=n.currency;(0,u.useEffect)((function(){var e=a((function(){return(0,p.ensureSuccessResponse)(r,{meta:{paymentMethodData:(0,c.default)({},"".concat(t("name"),"_token_key"),P.id)}})}));return function(){return e()}}),[P,a]);var C=(0,u.useCallback)((0,i.default)(o.default.mark((function e(){var n;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,y||!(0,p.isAddressValid)(S)){e.next=9;break}return e.next=4,l.createSource((0,p.getDefaultSourceArgs)({type:t("paymentType"),amount:_.value,billingData:S,currency:w.code,returnUrl:t("returnUrl")}));case 4:if(!(n=e.sent).error){e.next=7;break}throw new p.StripeError(n.error);case 7:E(n.source),(0,p.storeInCache)("wechat:source",n.source);case 9:e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),console.log("error: ",e.t0),g(e.t0.error);case 15:case"end":return e.stop()}}),e,null,[[0,11]])}))),[l,P,_.value,S,w,y]),k=(0,u.useCallback)((function(){(0,p.deleteFromCache)("wechat:source")}),[]);return(0,u.useEffect)((function(){l&&!P&&(clearTimeout(O.current),O.current=setTimeout(C,1e3))}),[l,P,C]),{source:P,setSource:E,error:y,deleteSourceFromStorage:k}};v()&&(0,l.registerPaymentMethod)({name:v("name"),label:r.createElement(d.PaymentMethodLabel,{title:v("title"),paymentMethod:v("name"),icons:v("icon")}),ariaLabel:"WeChat",canMakePayment:(0,m.canMakePayment)(v),content:r.createElement(d.PaymentMethod,{content:b,getData:v}),edit:r.createElement(d.PaymentMethod,{content:b,getData:v}),supports:{showSavedCards:!1,showSaveOption:!1,features:v("features")}})},5180:(e,t,n)=>{n(3139),n(3726)},3726:(e,t,n)=>{var r=n(9307),a=n(5318),o=a(n(3038)),i=a(n(6479)),c=n(9307),s=n(4613),u=n(1134),l=n(3636),p=n(6664),d=(0,u.getSettings)("stripe_payment_request_data"),m=function(e){return r.createElement("div",{className:"wc-stripe-payment-request-container"},r.createElement(p.Elements,{stripe:u.initStripe},r.createElement(f,e)))},f=function(e){var t=e.getData,n=e.onClick,a=e.onClose,s=e.billing,u=e.shippingData,d=e.eventRegistration,m=e.emitResponse,f=e.onSubmit,y=e.activePaymentMethod,g=((0,i.default)(e,["getData","onClick","onClose","billing","shippingData","eventRegistration","emitResponse","onSubmit","activePaymentMethod"]),d.onPaymentProcessing),h=m.responseTypes,v=m.noticeContexts,b=(0,p.useStripe)(),P=(0,l.useStripeError)(),E=(0,o.default)(P,1)[0],O=(0,l.useExportedValues)();(0,l.useExpressBreakpointWidth)({payment_method:t("name"),width:375});var _=(0,l.useProcessPaymentIntent)({getData:t,billing:s,shippingData:u,onPaymentProcessing:g,emitResponse:m,error:E,onSubmit:f,activePaymentMethod:y,exportedValues:O}).setPaymentMethod;(0,l.useAfterProcessingPayment)({getData:t,eventRegistration:d,responseTypes:h,activePaymentMethod:y,messageContext:v.EXPRESS_PAYMENTS});var S=(0,l.usePaymentRequest)({getData:t,onClose:a,stripe:b,billing:s,shippingData:u,eventRegistration:d,setPaymentMethod:_,exportedValues:O,canPay:function(e){return null!=e&&!e.applePay&&e.googlePay}}).paymentRequest,w=(0,c.useMemo)((function(){return{paymentRequest:S,style:{paymentRequestButton:t("paymentRequestButton")}}}),[S]);return S?r.createElement(p.PaymentRequestButtonElement,{options:w,onClick:n}):null},y=function(e){e.getData,(0,i.default)(e,["getData"]);var t=(0,c.useRef)();return(0,c.useEffect)((function(){var e=window.devicePixelRatio;t.current.width=20*e,t.current.height=20*e;var n=t.current.getContext("2d");n.scale(e,e),n.beginPath(),n.arc(10,10,10,0,2*Math.PI),n.fillStyle="#986fff",n.fill()})),r.createElement("div",{className:"payment-request-block-editor"},r.createElement("div",{className:"icon-container"},r.createElement("span",null,"Buy now"),r.createElement("canvas",{className:"PaymentRequestButton-icon",ref:t}),r.createElement("i",{className:"payment-request-arrow"})))};(0,s.registerExpressPaymentMethod)({name:d("name"),canMakePayment:function(e){var t=e.cartTotals;if(d("isAdmin"))return!0;var n=t.currency_code,r=t.total_price;return(0,u.canMakePayment)({country:d("countryCode"),currency:n.toLowerCase(),total:{label:d("totalLabel"),amount:parseInt(r)}},(function(e){return null!=e&&!e.applePay&&e.googlePay}))},content:r.createElement(m,{getData:d}),edit:r.createElement(y,{getData:d}),supports:{showSavedCards:d("showSavedCards"),showSaveOption:d("showSaveOption"),features:d("features")}})},1065:(e,t,n)=>{var r=n(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(1284)),o=r(n(8926)),i=n(9307),c=n(1134),s=n(3636);t.default=function(e){var t=e.eventRegistration,n=e.emitResponse,r=e.getData,u=e.method,l=void 0===u?"handleCardAction":u,p=t.onCheckoutAfterProcessingWithSuccess,d=t.onCheckoutAfterProcessingWithError,m=n.responseTypes;(0,s.useProcessCheckoutError)({responseTypes:m,subscriber:d,messageContext:n.noticeContexts.PAYMENTS});var f=(0,i.useCallback)(function(){var e=(0,o.default)(a.default.mark((function e(t){var n;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.redirectUrl,e.next=3,(0,c.handleCardAction)({redirectUrl:n,getData:r,responseTypes:m,method:l});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]);return(0,i.useEffect)((function(){var e=p(f);return function(){return e()}}),[p,f]),null}},1134:(e,t,n)=>{var r=n(5318);Object.defineProperty(t,"__esModule",{value:!0}),t.versionCompare=t.toCartAddress=t.storeInCache=t.removeNumberPrecision=t.registerLocalPaymentMethod=t.registerCreditCardForm=t.isUserLoggedIn=t.isTestMode=t.isNextActionRequired=t.isFieldRequired=t.isEmpty=t.isCheckoutPage=t.isCartPage=t.isAddressValid=t.initStripe=t.hasShippingRates=t.handleCardAction=t.getShippingOptions=t.getShippingOptionId=t.getSettings=t.getSelectedShippingOption=t.getRoute=t.getLocaleFields=t.getLocalPaymentMethods=t.getIntermediateAddress=t.getFromCache=t.getErrorMessage=t.getDisplayItems=t.getDefaultSourceArgs=t.getCreditCardForm=t.getBillingDetailsFromAddress=t.formatPrice=t.filterEmptyValues=t.ensureSuccessResponse=t.ensureErrorResponse=t.deleteFromCache=t.cartContainsSubscription=t.cartContainsPreOrder=t.canMakePayment=t.StripeError=t.DEFAULT_SHIPPING_ADDRESS=t.DEFAULT_BILLING_ADDRESS=void 0;var a=r(n(319)),o=r(n(1284)),i=r(n(8926)),c=r(n(3038)),s=r(n(8)),u=r(n(4575)),l=r(n(2205)),p=r(n(8585)),d=r(n(9754)),m=r(n(5957)),f=r(n(9713)),y=r(n(6479)),g=n(4465),h=n(4617),v=r(n(6989)),b=n(4293);function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){(0,f.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _=(0,h.getSetting)("stripeGeneralData"),S=_.publishableKey,w=_.stripeParams,C=(0,h.getSetting)("stripeErrorMessages"),k=(0,h.getSetting)("countryLocale",{}),M=/^([\w]+)\:(.+)$/,j=(0,h.getSetting)("stripeGeneralData").routes,D={},x=[],R={recipient:function(e,t){return e.first_name=t.split(" ").slice(0,-1).join(" "),e.last_name=t.split(" ").pop(),e},payerName:function(e,t){return e.first_name=t.split(" ").slice(0,-1).join(" "),e.last_name=t.split(" ").pop(),e},country:"country",addressLine:function(e,t){return t[0]&&(e.address_1=t[0]),t[1]&&(e.address_2=t[1]),e},line1:"address_1",line2:"address_2",city:"city",region:"state",state:"state",postalCode:"postcode",postal_code:"postcode",payerEmail:"email",payerPhone:"phone"},A=new Promise((function(e,t){(0,g.loadStripe)(S,w).then((function(t){e(t)})).catch((function(t){e({error:t})}))}));t.initStripe=A,t.registerCreditCardForm=function(e){var t=e.id,n=(0,y.default)(e,["id"]);D[t]=n},t.getCreditCardForm=function(e){return D.hasOwnProperty(e)?D[e]:{}};var L=function(e){return null!=j&&j[e]?j[e]:console.log("".concat(e," is not a valid route"))};t.getRoute=L;var I=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return O({type:e.SUCCESS},t)};t.ensureSuccessResponse=I;var T=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return O({type:e.ERROR,message:N(t)},n)};t.ensureErrorResponse=T;var N=function(e){return"string"==typeof e?e:null!=e&&e.code&&null!=C&&C[e.code]?C[e.code]:null!=e&&e.statusCode?null!=C&&C[e.statusCode]?C[e.statusCode]:e.statusMessage:e.message};t.getErrorMessage=N;var B=function(e){var t={name:"".concat(e.first_name," ").concat(e.last_name),address:{city:e.city||null,country:e.country||null,line1:e.address_1||null,line2:e.address_2||null,postal_code:e.postcode||null,state:e.state||null}};return null!=e&&e.phone&&(t.phone=e.phone),null!=e&&e.email&&(t.email=e.email),t};t.getBillingDetailsFromAddress=B,t.getSettings=function(e){return function(t){return t?(0,h.getSetting)(e)[t]:(0,h.getSetting)(e)}};var F=function(e){(0,l.default)(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,d.default)(t);if(n){var a=(0,d.default)(this).constructor;e=Reflect.construct(r,arguments,a)}else e=r.apply(this,arguments);return(0,p.default)(this,e)});function a(e){var t;return(0,u.default)(this,a),(t=r.call(this,e.message)).error=e,t}return a}((0,m.default)(Error));t.StripeError=F;var q=function(e){return"string"==typeof e?0==e.length||""==e:Array.isArray(e)?0==array.length:"object"!==(0,s.default)(e)||0==Object.keys(e).length};t.isEmpty=q,t.removeNumberPrecision=function(e,t){return e/Math.pow(10,t)},t.isAddressValid=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=U(e.country),r=0,a=Object.entries(e);r<a.length;r++){var o=(0,c.default)(a[r],2),i=o[0],s=o[1];if(!t.includes(i)&&null!=n&&n[i]&&n[i].required&&q(s))return!1}return!0};var U=function(e){var t=O({},k.default);return e&&null!=k&&k[e]&&(t=Object.entries(k[e]).reduce((function(e,t){var n=(0,c.default)(t,2),r=n[0],a=n[1];return e[r]=O(O({},e[r]),a),e}),t),["phone","shipping-phone","email"].forEach((function(e){var n=document.getElementById(e);n&&(t[e]={required:n.required})}))),t};t.getLocaleFields=U,t.isFieldRequired=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(["phone","shipping-phone","email"].indexOf(e)>-1){var n=document.getElementById(e);return!!n&&n.required}var r=U(t);return[e]in r&&r[e].required},t.getSelectedShippingOption=function(e){var t=e.match(M);if(t){var n=t[1];return[t[2],n]}return[]},t.hasShippingRates=function(e){return e.map((function(e){return e.shipping_rates.length>0})).filter(Boolean).length>0},t.isUserLoggedIn=function(e){return e>0};var X=function(){var e=(0,i.default)(o.default.mark((function e(t){var n,r,a,i,c,s,u,l,p,d,m,y,g,h,b,P,E,_;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.redirectUrl,r=t.responseTypes,a=t.name,i=t.method,c=void 0===i?"handleCardAction":i,s=t.savePaymentMethod,u=void 0!==s&&s,l=t.data,p=void 0===l?{}:l,e.prev=1,!(d=n.match(/#response=(.+)/))){e.next=28;break}return m=JSON.parse(window.atob(decodeURIComponent(d[1]))),y=m.type,g=m.client_secret,h=m.order_id,b=m.order_key,e.next=7,A;case 7:if(P=e.sent,"intent"!==y){e.next=14;break}return e.next=11,P[c](g);case 11:E=e.sent,e.next=17;break;case 14:return e.next=16,P.confirmCardSetup(g);case 16:E=e.sent;case 17:if(!E.error){e.next=19;break}return e.abrupt("return",T(r,E.error));case 19:return p=O(O({},p),{},(0,f.default)({order_id:h,order_key:b},"".concat(a,"_save_source_key"),u)),e.next=22,(0,v.default)({url:L("process/payment"),method:"POST",data:p});case 22:if(!(_=e.sent).messages){e.next=25;break}return e.abrupt("return",T(r,_.messages));case 25:return e.abrupt("return",I(r,{redirectUrl:_.redirect}));case 28:return e.abrupt("return",I(r));case 29:e.next=35;break;case 31:return e.prev=31,e.t0=e.catch(1),console.log(e.t0),e.abrupt("return",T(r,e.t0));case 35:case"end":return e.stop()}}),e,null,[[1,31]])})));return function(t){return e.apply(this,arguments)}}();t.handleCardAction=X,t.toCartAddress=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R;return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r={};t=O(O({},t),V(n));for(var a=0,o=Object.entries(e);a<o.length;a++){var i,s=(0,c.default)(o[a],2),u=s[0],l=s[1];null!==(i=t)&&void 0!==i&&i[u]&&("function"==typeof l?l(r,t[u]):r[l]=t[u])}return r}},t.getIntermediateAddress=function(e){var t,n={},r=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return P(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?P(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:["city","postcode","state","country"]);try{for(r.s();!(t=r.n()).done;){var a=t.value;n[a]=e[a]}}catch(e){r.e(e)}finally{r.f()}return n};var V=function(e){return Object.keys(e).filter((function(t){return Boolean(e[t])})).reduce((function(t,n){return O(O({},t),{},(0,f.default)({},n,e[n]))}),{})};t.filterEmptyValues=V;var W=function(e,t){var n,r=(0,b.getCurrency)(t),a=r.prefix,o=r.suffix,i=r.decimalSeparator,c=r.minorUnit,s=r.thousandSeparator;if(""==e||void 0===e)return e;e="string"==typeof e?parseInt(e,10):e;var u="",l=(e=(e/=Math.pow(10,c)).toString().replace(".",i)).indexOf(i);l<0?c>0&&(e+="".concat(i).concat(new Array(c+1).join("0"))):(u=e.substr(l+1)).length<c&&(e+=new Array(c-u.length+1).join("0"));var p=e.match(new RegExp("(\\d+)\\".concat(i,"(\\d+)")));return p&&(e=p[1],u=p[2]),e=e.replace(new RegExp("\\B(?=(\\d{3})+(?!\\d))","g"),"".concat(s)),a+(e=(null===(n=u)||void 0===n?void 0:n.length)>0?e+i+u:e)+o};t.formatPrice=W,t.getShippingOptions=function(e){var t=[];return e.forEach((function(e,n){e.shipping_rates.sort((function(e){return e.selected?-1:1}));var r=e.shipping_rates.map((function(e){var t=document.createElement("textarea");return t.innerHTML=e.name,W(e.price,e.currency_code),{id:G(n,e.rate_id),label:t.value,amount:parseInt(e.price,10)}}));t=[].concat((0,a.default)(t),(0,a.default)(r))})),t};var G=function(e,t){return"".concat(e,":").concat(t)};t.getShippingOptionId=G,t.getDisplayItems=function(e,t){t.minorUnit;var n=[],r=["total_tax","total_shipping"];return e.forEach((function(e){(0<e.value||e.key&&r.includes(e.key))&&n.push({label:e.label,pending:!1,amount:e.value})})),n};var Y={};t.canMakePayment=function(e,t){var n=e.country,r=e.currency,a=e.total;return new Promise((function(e,o){var i=[n,r,a.amount].reduce((function(e,t){return"".concat(e,"-").concat(t)}));return r?i in Y?e(Y[i]):A.then((function(c){if(c.error)return o(c.error);c.paymentRequest({country:n,currency:r,total:a}).canMakePayment().then((function(n){return Y[i]=t(n),e(Y[i])}))})).catch(o):e(!1)}))},t.registerLocalPaymentMethod=function(e){x.push(e)},t.getLocalPaymentMethods=function(){return x},t.cartContainsPreOrder=function(){var e=(0,h.getSetting)("stripePaymentData");return e&&e.pre_order},t.cartContainsSubscription=function(){var e=(0,h.getSetting)("stripePaymentData");return e&&e.subscription},t.getDefaultSourceArgs=function(e){var t=e.type,n=e.amount,r=e.billingData,a=e.currency,o=e.returnUrl;return{type:t,amount:n,currency:a,owner:B(r),redirect:{return_url:o}}},t.isTestMode=function(){return"test"===(0,h.getSetting)("stripeGeneralData").mode};var H=function(e){return"".concat("stripe:").concat(e)};t.storeInCache=function(e,t){var n=Math.floor((new Date).getTime()/1e3)+900;"sessionStorage"in window&&sessionStorage.setItem(H(e),JSON.stringify({value:t,exp:n}))},t.getFromCache=function(e){if("sessionStorage"in window)try{var t=JSON.parse(sessionStorage.getItem(H(e)));if(t){var n=t.value,r=t.exp;if(!(Math.floor((new Date).getTime()/1e3)>r))return n;K(H(e))}}catch(e){}return null};var K=function(e){"sessionStorage"in window&&sessionStorage.removeItem(H(e))};t.deleteFromCache=K,t.versionCompare=function(e,t,n){switch(n){case"<":return e<t;case">":return e>t;case"<=":return e<=t;case">=":return e>=t;case"=":return e==t}return!1},t.isCartPage=function(){return"cart"===(0,h.getSetting)("stripeGeneralData").page},t.isCheckoutPage=function(){return"checkout"===(0,h.getSetting)("stripeGeneralData").page},t.isNextActionRequired=function(e){var t=e.match(/#response=(.+)/),n=null;return t&&(n=JSON.parse(window.atob(decodeURIComponent(t[1])))),n};var Q={first_name:"",last_name:"",company:"",address_1:"",address_2:"",city:"",state:"",postcode:"",country:"",phone:""};t.DEFAULT_SHIPPING_ADDRESS=Q;var $=O(O({},Q),{},{email:""});t.DEFAULT_BILLING_ADDRESS=$},4184:(e,t)=>{var n;!function(){"use strict";var r={}.hasOwnProperty;function a(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var o=typeof n;if("string"===o||"number"===o)e.push(n);else if(Array.isArray(n)&&n.length){var i=a.apply(null,n);i&&e.push(i)}else if("object"===o)for(var c in n)r.call(n,c)&&n[c]&&e.push(c)}}return e.join(" ")}e.exports?(a.default=a,e.exports=a):void 0===(n=function(){return a}.apply(t,[]))||(e.exports=n)}()},1465:()=>{},7776:()=>{},4836:()=>{},85:()=>{},3110:()=>{},8356:()=>{},5773:()=>{},9509:()=>{},3139:()=>{}}]);
//# sourceMappingURL=commons.js.map