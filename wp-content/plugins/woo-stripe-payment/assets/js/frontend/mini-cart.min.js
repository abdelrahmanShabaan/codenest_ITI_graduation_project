!function(i,e){function a(t){this.message_container=".widget_shopping_cart_content",e.BaseGateway.call(this,t,s)}function t(t){a.apply(this,arguments)}function n(t){a.apply(this,arguments)}function p(t){a.apply(this,arguments)}function o(t){a.apply(this,arguments)}a.prototype.on_token_received=function(){this.block(),this.block_cart(),e.BaseGateway.prototype.on_token_received.apply(this,arguments)},a.prototype.block_cart=function(){i(this.container).find(".wc-stripe-minicart-overlay").addClass("active")},a.prototype.unblock_cart=function(){i(this.container).find(".wc-stripe-minicart-overlay").removeClass("active")},a.prototype.get_gateway_data=function(){var t=".woocommerce_"+this.gateway_id+"_gateway_data",e=i(".woocommerce-mini-cart__buttons").find(t).data("gateway");return(e=e||i(t).data("gateway"))||null},a.prototype.get_page=function(){return"cart"},(t.prototype=Object.assign({},e.BaseGateway.prototype,a.prototype,e.GooglePay.prototype)).initialize=function(){this.get_gateway_data()&&(this.createPaymentsClient(),this.isReadyToPay().then(function(){this.append_button()}.bind(this)))},t.prototype.create_button=function(){e.GooglePay.prototype.create_button.apply(this,arguments),this.append_button()},t.prototype.append_button=function(){i(this.container).find(".wc-stripe-gpay-mini-cart").empty(),i(this.container).find(".wc-stripe-gpay-mini-cart").append(this.$button).show()},(n.prototype=Object.assign({},e.BaseGateway.prototype,a.prototype,e.ApplePay.prototype)).initialize=function(){this.get_gateway_data()&&e.ApplePay.prototype.initialize.apply(this,arguments)},n.prototype.append_button=function(){i(this.container).find(".wc-stripe-applepay-mini-cart").empty(),i(this.container).find(".wc-stripe-applepay-mini-cart").append(this.$button).show()},(p.prototype=Object.assign({},e.BaseGateway.prototype,a.prototype,e.PaymentRequest.prototype)).initialize=function(){this.get_gateway_data()&&e.PaymentRequest.prototype.initialize.apply(this,arguments)},p.prototype.create_button=function(){this.append_button()},p.prototype.append_button=function(){i(this.container).find(".wc-stripe-payment-request-mini-cart").empty().show(),this.paymentRequestButton.mount(i(this.container).find(".wc-stripe-payment-request-mini-cart").first()[0])},(o.prototype=Object.assign({},e.BaseGateway.prototype,a.prototype,e.Afterpay.prototype)).is_currency_supported=function(){return-1<this.params.currencies.indexOf(this.get_currency())},o.prototype.initialize=function(){i(this.container).length&&this.is_currency_supported()&&(this.create_element(),this.mount_message())},o.prototype.create_element=function(){return this.elements.create("afterpayClearpayMessage",i.extend({},this.params.msg_options,{amount:this.get_total_price_cents(),currency:this.get_currency(),isEligible:this.is_eligible(parseFloat(this.get_total_price()))}))},o.prototype.mount_message=function(){i(".wc-stripe-afterpay-minicart-msg").length||i(".woocommerce-mini-cart__total").after('<p class="wc-stripe-afterpay-minicart-msg buttons"></p>');var t=document.querySelectorAll(".wc-stripe-afterpay-minicart-msg");t&&t.forEach(function(t){this.create_element().mount(t),this.add_eligibility(t,parseFloat(this.get_total_price()))}.bind(this))};var r=[],s=null;function c(){var t=i(".woocommerce-mini-cart__buttons");t.length||(t=i('a[class^="wc-stripe-"]')),t.each(function(t,e){e=i(e).parent();e.length&&(t="wc-stripe-mini-cart-idx-"+t,e.addClass(t),e.find(".wc-stripe-minicart-overlay").length||e.prepend('<div class="wc-stripe-minicart-overlay"></div>'),s="."+t,r.forEach(function(t){new t[0](t[1])}))})}"undefined"!=typeof wc_stripe_googlepay_mini_cart_params&&r.push([t,wc_stripe_googlepay_mini_cart_params]),"undefined"!=typeof wc_stripe_applepay_mini_cart_params&&r.push([n,wc_stripe_applepay_mini_cart_params]),"undefined"!=typeof wc_stripe_payment_request_mini_cart_params&&r.push([p,wc_stripe_payment_request_mini_cart_params]),"undefined"!=typeof wc_stripe_afterpay_mini_cart_params&&r.push([o,wc_stripe_afterpay_mini_cart_params]),i(document.body).on("wc_fragments_refreshed wc_fragments_loaded",function(){setTimeout(c,250)}),setTimeout(c,500)}(jQuery,window.wc_stripe);